<!DOCTYPE html> <html> <head><meta name="generator" content="Hexo 3.9.0"> <script>var _hmt=_hmt||[]</script> <script async src="//hm.baidu.com/hm.js?3d88a42f36d311b6e2c830ea185ed398"></script> <script>!function(){var t=document.createElement("script");t.setAttribute("async",!0);var e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script> <meta charset="utf-8"> <link rel="canonical" href="https://coolcode.org"> <title>媒体广告变现优化之道（四）</title> <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"> <meta name="theme-color" content="#3F51B5"> <meta name="keywords" content="广告,Android,iOS"> <meta name="description" content="如何获取设备屏幕信息今天我们来聊聊获取设备屏幕的分辨率，DPI，屏幕尺寸，缩放因子等信息。 在 OpenRTB 中，关于设备屏幕的信息有以下四个属性：    Attribute Type Definition     h integer Physical height of the screen in pixels.   w integer Physical width of the screen"> <meta name="keywords" content="广告,Android,iOS"> <meta property="og:type" content="article"> <meta property="og:title" content="媒体广告变现优化之道（四）"> <meta property="og:url" content="https://coolcode.org/2020/03/06/ad-monetization-optimization-4/index.html"> <meta property="og:site_name" content="CoolCode"> <meta property="og:description" content="如何获取设备屏幕信息今天我们来聊聊获取设备屏幕的分辨率，DPI，屏幕尺寸，缩放因子等信息。 在 OpenRTB 中，关于设备屏幕的信息有以下四个属性：    Attribute Type Definition     h integer Physical height of the screen in pixels.   w integer Physical width of the screen"> <meta property="og:locale" content="zh-CN"> <meta property="og:updated_time" content="2020-03-06T09:54:00.000Z"> <meta name="twitter:card" content="summary"> <meta name="twitter:title" content="媒体广告变现优化之道（四）"> <meta name="twitter:description" content="如何获取设备屏幕信息今天我们来聊聊获取设备屏幕的分辨率，DPI，屏幕尺寸，缩放因子等信息。 在 OpenRTB 中，关于设备屏幕的信息有以下四个属性：    Attribute Type Definition     h integer Physical height of the screen in pixels.   w integer Physical width of the screen"> <link rel="alternate" type="application/atom+xml" title="CoolCode" href="../../../../atom.xml"> <link rel="shortcut icon" href="../../../../favicon.ico"> <link rel="stylesheet" href="../../../../css/style.css?v=1.7.2"> <script src="../../../../js/echarts.common.min.js?v=1.7.2"></script> <script>window.lazyScripts=[]</script> <link rel="manifest" href="/manifest.json"> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon-precomposed-144x144.png"> <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/img/apple-touch-icon-precomposed-120x120.png"> <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/img/apple-touch-icon-precomposed-72x72.png"> <link rel="apple-touch-icon-precomposed" href="/img/apple-touch-icon-precomposed-57x57.png"> </head> <body> <div id="loading" class="active"></div> <aside id="menu"> <div class="inner flex-row-vertical"> <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off"> <i class="icon icon-lg icon-close"></i> </a> <div class="brand-wrap" style="background-image:url(../../../../img/brand.jpg)"> <div class="brand"> <a href="../../../../index.html" class="avatar waves-effect waves-circle waves-light"> <img src="../../../../img/avatar.jpg"> </a> <hgroup class="introduce"> <h5 class="nickname">小马哥</h5> <a href="mailto:andot@qq.com" title="andot@qq.com" class="mail">andot@qq.com</a> </hgroup> <ul class="menu-link"> <li> <a href="https://github.com/andot" target="_blank"> <i class="icon icon-lg icon-github"></i> </a> </li> <li> <a href="https://sighttp.qq.com/authd?IDKEY=0f7b6690eff38f1a1bc274af3639750f34b370fb0f86105f" target="_blank"> <i class="icon icon-lg icon-qq"></i> </a> </li> </ul> </div> </div> <div class="scroll-wrap flex-col"> <ul class="nav"> <li class="waves-block waves-effect"> <a href="../../../../index.html"> <i class="icon icon-lg icon-home"></i> 主页 </a> </li> <li class="waves-block waves-effect"> <a href="../../../../archives"> <i class="icon icon-lg icon-archives"></i> 归档 </a> </li> <li class="waves-block waves-effect"> <a href="../../../../tags"> <i class="icon icon-lg icon-tags"></i> 标签 </a> </li> <li class="waves-block waves-effect"> <a href="../../../../categories"> <i class="icon icon-lg icon-th-list"></i> 分类 </a> </li> <li class="waves-block waves-effect"> <a href="../../../../about"> <i class="icon icon-lg icon-id-card"></i> 关于 </a> </li> </ul> </div> </div> </aside> <main id="main"> <header class="top-header" id="header"> <div class="flex-row"> <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle"> <i class="icon icon-lg icon-navicon"></i> </a> <div class="flex-col header-title ellipsis">媒体广告变现优化之道（四）</div> <div class="search-wrap" id="search-wrap"> <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back"> <i class="icon icon-lg icon-chevron-left"></i> </a> <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字"> <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search"> <i class="icon icon-lg icon-search"></i> </a> </div> <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare"> <i class="icon icon-lg icon-share-alt"></i> </a> </div> </header> <header class="content-header post-header"> <div class="container fade-scale"> <h1 class="title">媒体广告变现优化之道（四）</h1> <h5 class="subtitle"> <time datetime="2020-03-06T07:57:00.000Z" itemprop="datePublished" class="page-time"> 2020年03月06日 </time> <ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="../../../../categories/广告/">广告</a></li></ul> </h5> </div> </header> <div class="container body-wrap"> <aside class="post-widget"> <nav class="post-toc-wrap post-toc-shrink" id="post-toc"> <h4>目录</h4> <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#如何获取设备屏幕信息"><span class="post-toc-number">1.</span> <span class="post-toc-text">如何获取设备屏幕信息</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#获取-Android-设备的屏幕信息"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">获取 Android 设备的屏幕信息</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#获取-iOS-设备的屏幕信息"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">获取 iOS 设备的屏幕信息</span></a></li></ol></li></ol> </nav> </aside> <article id="post-ad-monetization-optimization-4" class="post-article article-type-post fade" itemprop="blogPost"> <div class="post-card"> <h1 class="post-card-title">媒体广告变现优化之道（四）</h1> <div class="post-meta"> <time class="post-time" title="2020年03月06日 15:57:00" datetime="2020-03-06T07:57:00.000Z" itemprop="datePublished">2020年03月06日</time> <ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="../../../../categories/广告/">广告</a></li></ul> <span id="busuanzi_container_page_pv" title="文章总阅读量" style="display:none"> <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span> </span> </div> <div class="post-content" id="post-content" itemprop="postContent"> <h1 id="如何获取设备屏幕信息"><a href="#如何获取设备屏幕信息" class="headerlink" title="如何获取设备屏幕信息"></a>如何获取设备屏幕信息</h1><p>今天我们来聊聊获取设备屏幕的分辨率，DPI，屏幕尺寸，缩放因子等信息。</p> <p>在 OpenRTB 中，关于设备屏幕的信息有以下四个属性：</p> <table> <thead> <tr> <th>Attribute</th> <th>Type</th> <th>Definition</th> </tr> </thead> <tbody> <tr> <td>h</td> <td>integer</td> <td>Physical height of the screen in pixels.</td> </tr> <tr> <td>w</td> <td>integer</td> <td>Physical width of the screen in pixels.</td> </tr> <tr> <td>ppi</td> <td>integer</td> <td>Screen size as pixels per linear inch.</td> </tr> <tr> <td>pxratio</td> <td>float</td> <td>The ratio of physical pixels to device independent pixels.</td> </tr> </tbody> </table> <p>其中 <code>w</code>, <code>h</code> 对应屏幕物理宽高的像素值。</p> <p><code>ppi</code> 是每英寸的像素个数，不过对于 Android 设备，通常它又被称作 dpi（Dots Per Inch，每英寸点数）。</p> <p><code>pxratio</code> 是物理像素与设备无关像素的比率，也被称为缩放因子（scale factor）。</p> <p>下面我们来就 Android 和 iOS 设备来分别讨论如何获取这些信息。</p> <a id="more"></a> <h2 id="获取-Android-设备的屏幕信息"><a href="#获取-Android-设备的屏幕信息" class="headerlink" title="获取 Android 设备的屏幕信息"></a>获取 Android 设备的屏幕信息</h2><p>对于 Android 设备来说，这些信息都可以通过 <code>DisplayMetrics</code> 类来获取。所有首先要获取一个有效的 <code>DisplayMetrics</code> 对象。</p> <figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> DisplayMetrics <span class="title">getDisplayMetrics</span><span class="params">(Context context)</span> </span>&#123;</span><br><span class="line">    WindowManager wm = (WindowManager) (context.getSystemService(Context.WINDOW_SERVICE));</span><br><span class="line">    DisplayMetrics dm = <span class="keyword">new</span> DisplayMetrics();</span><br><span class="line">    Display display = wm.getDefaultDisplay();</span><br><span class="line">    <span class="keyword">if</span> (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR1) &#123;</span><br><span class="line">        display.getRealMetrics(dm);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        display.getMetrics(dm);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dm;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> <p><code>getRealMetrics</code> 这个方法是在 Android 4.2 之后增加的，跟 <code>getMetrics</code> 相比，通过 <code>getRealMetrics</code> 获取到的屏幕分辨率是屏幕的真正分辨率，而 <code>getMetrics</code> 获取到的屏幕分辨率是去掉了屏幕底部虚拟按键高度的分辨率。在这之前的设备可能也不支持虚拟按键，所以，也就没有这个区分。</p> <p>有了 <code>DisplayMetrics</code> 对象之后，我们就可以通过它来获取上面四个属性了，通常我们会这样来写：</p> <figure class="highlight java"><table><tr><td class="code"><pre><span class="line">DisplayMetrics dm = getDisplayMetrics(context);</span><br><span class="line"><span class="keyword">int</span> w = dm.widthPixels;</span><br><span class="line"><span class="keyword">int</span> h = dm.heightPixels;</span><br><span class="line"><span class="keyword">int</span> dpi = dm.densityDpi;</span><br><span class="line"><span class="keyword">float</span> pxratio = dm.density;</span><br></pre></td></tr></table></figure> <p>但是这样写真的对吗？对于 <code>w</code>, <code>h</code> 和 <code>pxratio</code> 这三个的值来说，没什么问题，但是对于 <code>dpi</code> 来说，通过这种方式获取到的值其实是不对的。</p> <p>在 Android 系统中，<code>density</code> 和 <code>densityDpi</code> 之间其实有一个固定的关系：</p> <figure class="highlight java"><table><tr><td class="code"><pre><span class="line">densityDpi == (<span class="keyword">int</span>)(density * <span class="number">160</span>)</span><br></pre></td></tr></table></figure> <p>所以，它俩相当于同一个概念的两种不同表示方法。而我们实际要获取的 <code>dpi</code> 应该按照如下方式来获取：</p> <figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> w = dm.widthPixels;</span><br><span class="line"><span class="keyword">int</span> h = dm.heightPixels;</span><br><span class="line"><span class="keyword">float</span> width = w / dm.xdpi;</span><br><span class="line"><span class="keyword">float</span> height = h / dm.ydpi;</span><br><span class="line"><span class="keyword">float</span> size = Math.sqrt(width * width + height * height);</span><br><span class="line"><span class="keyword">int</span> ppi = (<span class="keyword">int</span>) (Math.sqrt(w * w + h * h) / size);</span><br></pre></td></tr></table></figure> <p>上面的计算中，<code>width</code> 是水平英寸数，<code>height</code> 是竖直英寸数，<code>size</code> 是对角线的长度，也就是通常我们说的手机尺寸。</p> <p>然后通过对角线的像素个数除以手机尺寸，获得的才是 OpenRTB 中所说的 <code>ppi</code>。</p> <h2 id="获取-iOS-设备的屏幕信息"><a href="#获取-iOS-设备的屏幕信息" class="headerlink" title="获取 iOS 设备的屏幕信息"></a>获取 iOS 设备的屏幕信息</h2><p>对于 iOS 系统来说，<code>w</code>, <code>h</code> 和 <code>pxratio</code> 这三个值跟 Android 一样，可以比较方便的直接获取。</p> <figure class="highlight objc"><table><tr><td class="code"><pre><span class="line"><span class="built_in">CGSize</span> size = [<span class="built_in">UIScreen</span> mainScreen].nativeBounds.size;</span><br><span class="line"><span class="keyword">int</span> w = (<span class="keyword">int</span>)size.width;</span><br><span class="line"><span class="keyword">int</span> h = (<span class="keyword">int</span>)size.height;</span><br><span class="line"><span class="built_in">CGFloat</span> pxratio = [<span class="built_in">UIScreen</span> mainScreen].nativeScale;</span><br></pre></td></tr></table></figure> <p>但需要注意，不要用 <code>bounds</code> 和 <code>scale</code> 这两个代替上面的 <code>nativeBounds</code> 和 <code>nativeScale</code>。</p> <p>因为 <code>bounds</code> 获取到的是设备无关像素（在 iOS 中被称为 <code>Point</code>）的分辨率。而 <code>scale</code> 是渲染像素（<code>Rendered Pixels</code>）跟设备无关像素（<code>Point</code>）的比值。</p> <p>在 iOS 上获取 <code>ppi</code> 就没有上面那么幸运了，因为 iOS 没有提供直接获取 <code>ppi</code> 的方法。但因为我们前面讲过 iOS 设备可以获取设备型号，所以我们可以通过做一张设备型号与 <code>ppi</code> 的对照表来返回对应设备的 <code>ppi</code>，下面是到目前为止所有 iOS 设备的型号与 <code>ppi</code> 对照表：</p> <figure class="highlight objc"><table><tr><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="built_in">NSDictionary</span> *modelPPIs;</span><br><span class="line"></span><br><span class="line">+ (<span class="keyword">void</span>)load &#123;</span><br><span class="line">    modelPPIs = @&#123;</span><br><span class="line">        <span class="comment">// iPhone 1</span></span><br><span class="line">        <span class="string">@"iPhone1,1"</span>: @<span class="number">163</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPhone 3G</span></span><br><span class="line">        <span class="string">@"iPhone1,2"</span>: @<span class="number">163</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPhone 3GS</span></span><br><span class="line">        <span class="string">@"iPhone2,1"</span>: @<span class="number">163</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPhone 4</span></span><br><span class="line">        <span class="string">@"iPhone3,1"</span>: @<span class="number">326</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPhone 4 GSM Rev A</span></span><br><span class="line">        <span class="string">@"iPhone3,2"</span>: @<span class="number">326</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPhone 4 CDMA</span></span><br><span class="line">        <span class="string">@"iPhone3,3"</span>: @<span class="number">326</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPhone 4S</span></span><br><span class="line">        <span class="string">@"iPhone4,1"</span>: @<span class="number">326</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPhone 5 (GSM)</span></span><br><span class="line">        <span class="string">@"iPhone5,1"</span>: @<span class="number">326</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPhone 5 (GSM+CDMA)</span></span><br><span class="line">        <span class="string">@"iPhone5,2"</span>: @<span class="number">326</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPhone 5C (GSM)</span></span><br><span class="line">        <span class="string">@"iPhone5,3"</span>: @<span class="number">326</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPhone 5C (Global)</span></span><br><span class="line">        <span class="string">@"iPhone5,4"</span>: @<span class="number">326</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPhone 5S (GSM)</span></span><br><span class="line">        <span class="string">@"iPhone6,1"</span>: @<span class="number">326</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPhone 5S (Global)</span></span><br><span class="line">        <span class="string">@"iPhone6,2"</span>: @<span class="number">326</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPhone 6 Plus</span></span><br><span class="line">        <span class="string">@"iPhone7,1"</span>: @<span class="number">401</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPhone 6</span></span><br><span class="line">        <span class="string">@"iPhone7,2"</span>: @<span class="number">326</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPhone 6s</span></span><br><span class="line">        <span class="string">@"iPhone8,1"</span>: @<span class="number">326</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPhone 6s Plus</span></span><br><span class="line">        <span class="string">@"iPhone8,2"</span>: @<span class="number">401</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPhone SE (GSM+CDMA)</span></span><br><span class="line">        <span class="string">@"iPhone8,3"</span>: @<span class="number">326</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPhone SE (GSM)</span></span><br><span class="line">        <span class="string">@"iPhone8,4"</span>: @<span class="number">326</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPhone 7</span></span><br><span class="line">        <span class="string">@"iPhone9,1"</span>: @<span class="number">326</span>,</span><br><span class="line">        <span class="string">@"iPhone9,3"</span>: @<span class="number">326</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPhone 7 Plus</span></span><br><span class="line">        <span class="string">@"iPhone9,2"</span>: @<span class="number">401</span>,</span><br><span class="line">        <span class="string">@"iPhone9,4"</span>: @<span class="number">401</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPhone 8</span></span><br><span class="line">        <span class="string">@"iPhone10,1"</span>: @<span class="number">326</span>,</span><br><span class="line">        <span class="string">@"iPhone10,4"</span>: @<span class="number">326</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPhone 8 Plus</span></span><br><span class="line">        <span class="string">@"iPhone10,2"</span>: @<span class="number">401</span>,</span><br><span class="line">        <span class="string">@"iPhone10,5"</span>: @<span class="number">401</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPhone X Global</span></span><br><span class="line">        <span class="string">@"iPhone10,3"</span>: @<span class="number">458</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPhone X GSM</span></span><br><span class="line">        <span class="string">@"iPhone10,6"</span>: @<span class="number">458</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPhone XS</span></span><br><span class="line">        <span class="string">@"iPhone11,2"</span>: @<span class="number">458</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPhone XS Max China</span></span><br><span class="line">        <span class="string">@"iPhone11,4"</span>: @<span class="number">458</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPhone XS Max</span></span><br><span class="line">        <span class="string">@"iPhone11,6"</span>: @<span class="number">458</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPhone XR</span></span><br><span class="line">        <span class="string">@"iPhone11,8"</span>: @<span class="number">326</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPhone 11</span></span><br><span class="line">        <span class="string">@"iPhone12,1"</span>: @<span class="number">326</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPhone 11 Pro</span></span><br><span class="line">        <span class="string">@"iPhone12,3"</span>: @<span class="number">458</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPhone 11 Pro Max</span></span><br><span class="line">        <span class="string">@"iPhone12,5"</span>: @<span class="number">458</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPad 1</span></span><br><span class="line">        <span class="string">@"iPad1,1"</span>: @<span class="number">132</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPad 3G</span></span><br><span class="line">        <span class="string">@"iPad1,2"</span>: @<span class="number">132</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPad 2nd Gen</span></span><br><span class="line">        <span class="string">@"iPad2,1"</span>: @<span class="number">132</span>,</span><br><span class="line">        <span class="string">@"iPad2,2"</span>: @<span class="number">132</span>,</span><br><span class="line">        <span class="string">@"iPad2,3"</span>: @<span class="number">132</span>,</span><br><span class="line">        <span class="string">@"iPad2,4"</span>: @<span class="number">132</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPad Mini</span></span><br><span class="line">        <span class="string">@"iPad2,5"</span>: @<span class="number">163</span>,</span><br><span class="line">        <span class="string">@"iPad2,6"</span>: @<span class="number">163</span>,</span><br><span class="line">        <span class="string">@"iPad2,7"</span>: @<span class="number">163</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPad 3rd Gen</span></span><br><span class="line">        <span class="string">@"iPad3,1"</span>: @<span class="number">264</span>,</span><br><span class="line">        <span class="string">@"iPad3,2"</span>: @<span class="number">264</span>,</span><br><span class="line">        <span class="string">@"iPad3,3"</span>: @<span class="number">264</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPad 4th Gen</span></span><br><span class="line">        <span class="string">@"iPad3,4"</span>: @<span class="number">264</span>,</span><br><span class="line">        <span class="string">@"iPad3,5"</span>: @<span class="number">264</span>,</span><br><span class="line">        <span class="string">@"iPad3,6"</span>: @<span class="number">264</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPad Air 1</span></span><br><span class="line">        <span class="string">@"iPad4,1"</span>: @<span class="number">264</span>,</span><br><span class="line">        <span class="string">@"iPad4,2"</span>: @<span class="number">264</span>,</span><br><span class="line">        <span class="string">@"iPad4,3"</span>: @<span class="number">264</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPad Mini 2</span></span><br><span class="line">        <span class="string">@"iPad4,4"</span>: @<span class="number">326</span>,</span><br><span class="line">        <span class="string">@"iPad4,5"</span>: @<span class="number">326</span>,</span><br><span class="line">        <span class="string">@"iPad4,6"</span>: @<span class="number">326</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPad Mini 3</span></span><br><span class="line">        <span class="string">@"iPad4,7"</span>: @<span class="number">326</span>,</span><br><span class="line">        <span class="string">@"iPad4,8"</span>: @<span class="number">326</span>,</span><br><span class="line">        <span class="string">@"iPad4,9"</span>: @<span class="number">326</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPad Mini 4</span></span><br><span class="line">        <span class="string">@"iPad5,1"</span>: @<span class="number">326</span>,</span><br><span class="line">        <span class="string">@"iPad5,2"</span>: @<span class="number">326</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPad Air 2</span></span><br><span class="line">        <span class="string">@"iPad5,3"</span>: @<span class="number">264</span>,</span><br><span class="line">        <span class="string">@"iPad5,4"</span>: @<span class="number">264</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPad Pro 9.7-inch</span></span><br><span class="line">        <span class="string">@"iPad6,3"</span>: @<span class="number">264</span>,</span><br><span class="line">        <span class="string">@"iPad6,4"</span>: @<span class="number">264</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPad Pro 12.9-inch</span></span><br><span class="line">        <span class="string">@"iPad6,7"</span>: @<span class="number">264</span>,</span><br><span class="line">        <span class="string">@"iPad6,8"</span>: @<span class="number">264</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPad 5th Gen, 2017</span></span><br><span class="line">        <span class="string">@"iPad6,11"</span>: @<span class="number">264</span>,</span><br><span class="line">        <span class="string">@"iPad6,12"</span>: @<span class="number">264</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPad Pro 12.9-inch, 2017</span></span><br><span class="line">        <span class="string">@"iPad7,1"</span>: @<span class="number">264</span>,</span><br><span class="line">        <span class="string">@"iPad7,2"</span>: @<span class="number">264</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPad Pro 10.5-inch, 2017</span></span><br><span class="line">        <span class="string">@"iPad7,3"</span>: @<span class="number">264</span>,</span><br><span class="line">        <span class="string">@"iPad7,4"</span>: @<span class="number">264</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPad 6th Gen, 2018</span></span><br><span class="line">        <span class="string">@"iPad7,5"</span>: @<span class="number">264</span>,</span><br><span class="line">        <span class="string">@"iPad7,6"</span>: @<span class="number">264</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPad 7th Gen, 2019</span></span><br><span class="line">        <span class="string">@"iPad7,11"</span>: @<span class="number">264</span>,</span><br><span class="line">        <span class="string">@"iPad7,12"</span>: @<span class="number">264</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPad Pro 3rd Gen 11-inch, 2018</span></span><br><span class="line">        <span class="string">@"iPad8,1"</span>: @<span class="number">264</span>,</span><br><span class="line">        <span class="string">@"iPad8,3"</span>: @<span class="number">264</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPad Pro 3rd Gen 11-inch 1TB, 2018</span></span><br><span class="line">        <span class="string">@"iPad8,2"</span>: @<span class="number">264</span>,</span><br><span class="line">        <span class="string">@"iPad8,4"</span>: @<span class="number">264</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPad Pro 3rd Gen 12.9-inch, 2018</span></span><br><span class="line">        <span class="string">@"iPad8,5"</span>: @<span class="number">264</span>,</span><br><span class="line">        <span class="string">@"iPad8,7"</span>: @<span class="number">264</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPad Pro 3rd Gen 12.9-inch 1TB, 2018</span></span><br><span class="line">        <span class="string">@"iPad8,6"</span>: @<span class="number">264</span>,</span><br><span class="line">        <span class="string">@"iPad8,8"</span>: @<span class="number">264</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPad mini 5th Gen (WiFi)</span></span><br><span class="line">        <span class="string">@"iPad11,1"</span>: @<span class="number">326</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPad mini 5th Gen</span></span><br><span class="line">        <span class="string">@"iPad11,2"</span>: @<span class="number">326</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPad Air 3rd Gen (WiFi)</span></span><br><span class="line">        <span class="string">@"iPad11,3"</span>: @<span class="number">264</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPad Air 3rd Gen</span></span><br><span class="line">        <span class="string">@"iPad11,4"</span>: @<span class="number">264</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPod Touch 1</span></span><br><span class="line">        <span class="string">@"iPod1,1"</span>: @<span class="number">163</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPod Touch 2</span></span><br><span class="line">        <span class="string">@"iPod2,1"</span>: @<span class="number">163</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPod Touch 3</span></span><br><span class="line">        <span class="string">@"iPod3,1"</span>: @<span class="number">163</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPod Touch 4</span></span><br><span class="line">        <span class="string">@"iPod4,1"</span>: @<span class="number">326</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPod Touch 5</span></span><br><span class="line">        <span class="string">@"iPod5,1"</span>: @<span class="number">326</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPod Touch 6</span></span><br><span class="line">        <span class="string">@"iPod7,1"</span>: @<span class="number">326</span>,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iPod Touch 7</span></span><br><span class="line">        <span class="string">@"iPod9,1"</span>: @<span class="number">326</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> <p>接下来只要通过我们在<a href="https://coolcode.org/2020/02/17/ad-monetization-optimization-1/">第一篇</a>中介绍的方法先获取设备型号，再来查这个表就可以了。</p> <p>不过需要注意，如果是模拟器设备的话，获取到的设备型号是 <code>x86_64</code>，并不在这张表中，所以在查表之前最好先判断一下。</p> <p>另外，如果是采用 API 方式来进行广告对接的话，关于 iOS 设备 <code>ppi</code> 的获取，最好是在服务器端通过这种表格的方式来查询，因为如果苹果出了新设备，客户端来不及更新的话，在新设备上就无法获取到正确的 <code>ppi</code>。但是在服务器端是可以做到及时更新生效的。</p> </div> <blockquote class="post-copyright"> <div class="content"> <span class="post-time"> 最后更新时间：<time datetime="2020-03-06T09:54:00.000Z" itemprop="dateUpdated">2020年03月06日 17:54:00</time> </span><br> 本文共计 1,581 字，阅读时长预计 7 分钟<br>转载注明出处，原文地址：<a href="" target="_blank" rel="external">https://coolcode.org/2020/03/06/ad-monetization-optimization-4/</a> </div> <footer> <a href="https://coolcode.org"> <img src="../../../../img/avatar.jpg" alt="小马哥"> 小马哥 </a> </footer> </blockquote> <div class="page-reward"> <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a> </div> <div class="post-footer"> <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="../../../../tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="../../../../tags/iOS/">iOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="../../../../tags/广告/">广告</a></li></ul> <div class="page-share-wrap"> <div class="page-share" id="pageShare"> <ul class="reset share-icons"> <li> <a class="weibo share-sns" target="_blank" href="https://service.weibo.com/share/share.php?url=https://coolcode.org/2020/03/06/ad-monetization-optimization-4/&title=《媒体广告变现优化之道（四）》 — CoolCode&pic=https://coolcode.org/img/avatar.jpg" data-title="微博"> <i class="icon icon-weibo"></i> </a> </li> <li> <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信"> <i class="icon icon-weixin"></i> </a> </li> <li> <a class="qq share-sns" target="_blank" href="https://connect.qq.com/widget/shareqq/index.html?url=https://coolcode.org/2020/03/06/ad-monetization-optimization-4/&title=《媒体广告变现优化之道（四）》 — CoolCode&source=如何获取设备屏幕信息今天我们来聊聊获取设备屏幕的分辨率，DPI，屏幕尺寸，缩放因子等信息。
在 OpenRTB 中，关于设备屏幕的信息有以下四个属性：

..." data-title=" QQ"> <i class="icon icon-qq"></i> </a> </li> <li> <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://coolcode.org/2020/03/06/ad-monetization-optimization-4/" data-title=" Facebook"> <i class="icon icon-facebook"></i> </a> </li> <li> <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《媒体广告变现优化之道（四）》 — CoolCode&url=https://coolcode.org/2020/03/06/ad-monetization-optimization-4/&via=https://coolcode.org" data-title=" Twitter"> <i class="icon icon-twitter"></i> </a> </li> <li> <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://coolcode.org/2020/03/06/ad-monetization-optimization-4/" data-title=" Google+"> <i class="icon icon-google-plus"></i> </a> </li> </ul> </div> <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle"> <i class="icon icon-share-alt icon-lg"></i> </a> </div> </div> </div> <nav class="post-nav flex-row flex-justify-between"> <div class="waves-block waves-effect prev"> <a href="../../11/ad-monetization-optimization-5/" id="post-prev" class="post-nav-link"> <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div> <h4 class="title">媒体广告变现优化之道（五）</h4> </a> </div> <div class="waves-block waves-effect next"> <a href="../../../02/27/ad-monetization-optimization-3/" id="post-next" class="post-nav-link"> <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div> <h4 class="title">媒体广告变现优化之道（三）</h4> </a> </div> </nav> <section class="comments" id="comments"> <div id="gitment_thread"></div> <script type="text/javascript" src="../../../../js/gitment.browser.min.js?v=1.7.2"></script> <script>var gitment=new Gitmint({lang:"zh-CN",owner:"andot",repo:"CoolCode",id:"媒体广告变现优化之道（四）",oauth:{client_id:"0dfa8bd57a3253425991",client_secret:"cc7af9e85ee4abda607ea1a5d5a0f55e1e6c256a"}});gitment.render("comments")</script> </section> </article> <div id="reward" class="page-modal reward-lay"> <a class="close" href="javascript:;"><i class="icon icon-close"></i></a> <h3 class="reward-title"> <i class="icon icon-quote-left"></i> 感谢您的支持~ <i class="icon icon-quote-right"></i> </h3> <div class="reward-content"> <div class="reward-code"> <img id="rewardCode" src="../../../../img/wechat.jpg" alt="打赏二维码"> </div> <label class="reward-toggle"> <input id="rewardToggle" type="checkbox" class="reward-toggle-check" data-wechat="../../../../img/wechat.jpg" data-alipay="../../../../img/alipay.jpg"> <div class="reward-toggle-ctrol"> <span class="reward-toggle-item wechat">微信</span> <span class="reward-toggle-label"></span> <span class="reward-toggle-item alipay">支付宝</span> </div> </label> </div> </div> </div> <footer class="footer"> <div class="bottom"> <p> <span id="busuanzi_container_site_uv"> 站点总访客数：<span id="busuanzi_value_site_uv"><i class="icon icon-lg icon-spinner"></i></span> </span> <span id="busuanzi_container_site_pv"> 站点总访问量：<span id="busuanzi_value_site_pv"><i class="icon icon-lg icon-spinner"></i></span> </span> </p> <p> <span><a href="../../../../atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span> <span>博客内容遵循 <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span> </p> <p> <span>小马哥 &copy; 2005 - 2020</span> <span> <a href="http://www.miitbeian.gov.cn/" target="_blank">鲁ICP备17003119号-8</a> </span><span>Power by <a href="https://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a></span> <span>Hosted by <a href="https://pages.github.com" style="font-weight:700">GitHub Pages</a></span> </p> </div> </footer> </main> <div class="mask" id="mask"></div> <a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a> <div class="global-share" id="globalShare"> <ul class="reset share-icons"> <li> <a class="weibo share-sns" target="_blank" href="https://service.weibo.com/share/share.php?url=https://coolcode.org/2020/03/06/ad-monetization-optimization-4/&title=《媒体广告变现优化之道（四）》 — CoolCode&pic=https://coolcode.org/img/avatar.jpg" data-title="微博"> <i class="icon icon-weibo"></i> </a> </li> <li> <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信"> <i class="icon icon-weixin"></i> </a> </li> <li> <a class="qq share-sns" target="_blank" href="https://connect.qq.com/widget/shareqq/index.html?url=https://coolcode.org/2020/03/06/ad-monetization-optimization-4/&title=《媒体广告变现优化之道（四）》 — CoolCode&source=如何获取设备屏幕信息今天我们来聊聊获取设备屏幕的分辨率，DPI，屏幕尺寸，缩放因子等信息。
在 OpenRTB 中，关于设备屏幕的信息有以下四个属性：

..." data-title=" QQ"> <i class="icon icon-qq"></i> </a> </li> <li> <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://coolcode.org/2020/03/06/ad-monetization-optimization-4/" data-title=" Facebook"> <i class="icon icon-facebook"></i> </a> </li> <li> <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《媒体广告变现优化之道（四）》 — CoolCode&url=https://coolcode.org/2020/03/06/ad-monetization-optimization-4/&via=https://coolcode.org" data-title=" Twitter"> <i class="icon icon-twitter"></i> </a> </li> <li> <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://coolcode.org/2020/03/06/ad-monetization-optimization-4/" data-title=" Google+"> <i class="icon icon-google-plus"></i> </a> </li> </ul> </div> <div class="page-modal wx-share" id="wxShare"> <a class="close" href="javascript:;"><i class="icon icon-close"></i></a> <p>扫一扫，分享到微信</p> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACuElEQVR42u3aQU4DMQwF0N7/0kViBaJMv+24RejNqqLTmbwsEvOd2y2+7p/X188/r5/f5k+7vjN55ujCw8PDaw09GXR1iPlEJNOU/PbBSPDw8PDWeL3lO5mO/DnVzSl6Dh4eHt5beZPNI6978fDw8P4TL48JrocblcKnNhg8PDy8NV4vGsiL6d7m8dKsBQ8PDy/m9Rpg7/283t/Dw8PDa3XVJw2qanmd/Ko8Tjw8PLwFXh6hTlpT+bGqjfvx8PDwzt5fDQuS6DZZ1nubRx4Zf9v38PDw8I7y5s37eUGcT2tv0vHw8PBeyTvb3LofvcrBLh4eHt5R3iSKrbb2q/je9OHh4eHt8XqlbV5YV2OFfIqvI4kH/T08PDy8Q7zJxtBb+icttCh0OFVS4+Hh4Q2uydKfbw+9wwfVYwp4eHh4c96k7VRduJMh9sbz6z14eHh4y7wkkK22sqpPzgPi6AABHh4e3jIvaXRVl+Zq4Hs9QaMAFw8PD+8or7DUDtpR+UaSUKMQBA8PD2+B10t8NwKLeXPryRPw8PDwjvJ6Tf3q4p48//q9zYYZHh4e3lHeZEDVmDX5dh58NLMWPDw8vGKOmre48vI3DxGq7KSwxsPDw9vjXQ89/7e/GiVM4oy8oMfDw8Pb4E1en8QQyV+qEUN1Q8LDw8Pb4+URQ3XtnbTKqlFF1B/Dw8PDG/OqBe7GcYFewyyi4uHh4a3xkuW4eqQgDy961GjbwMPDwzvK67140uyvHgLI//5g6vHw8PAWeL1wIT9GMG+M5Ue7ehsJHh4eXo+XF7jVAnoe9SaT9WQbw8PDw1vjTTpH1Y2hV6DnbDw8PLy/xsvbXfkBhcm7nvwKDw8P7628eSRRbarlEXB06AoPDw/vKK93QGpSEOfNttGRAjw8PLwF3tkGWBJJVGPiyUaCh4eHd5T3AXW2Ncr/rIWMAAAAAElFTkSuQmCC" alt="微信分享二维码"> </div> <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script> <script>var BLOG={ROOT:"/",SHARE:!0,REWARD:!0}</script> <script src="../../../../js/main.min.js?v=1.7.2"></script> <div class="search-panel" id="search-panel"> <ul class="search-result" id="search-result"></ul> </div> <template id="search-tpl"> <li class="item"> <a href="{path}" class="waves-block waves-effect"> <div class="title ellipsis" title="{title}">{title}</div> <div class="flex-row flex-middle"> <div class="tags ellipsis"> {tags} </div> <time class="flex-col time">{date}</time> </div> </a> </li> </template> <script src="../../../../js/search.min.js?v=1.7.2" async></script> <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> </body> </html> 