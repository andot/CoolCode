<!DOCTYPE html> <html> <head><meta name="generator" content="Hexo 3.9.0"> <script>var _hmt=_hmt||[]</script> <script async src="//hm.baidu.com/hm.js?3d88a42f36d311b6e2c830ea185ed398"></script> <script>!function(){var t=document.createElement("script");t.setAttribute("async",!0);var e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script> <meta charset="utf-8"> <link rel="canonical" href="https://coolcode.org"> <title>媒体广告变现优化之道（三）</title> <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"> <meta name="theme-color" content="#3F51B5"> <meta name="keywords" content="广告,Android,iOS"> <meta name="description" content="如何获取 User Agent书接上回，前面两篇文章分别讲解了如何获取 make，brand 和 model和如何获取移动设备唯一标识。今天我们来讲讲 User Agent 的获取方法。 User Agent 是什么User Agent 中文名为用户代理，简称 UA，它是一个特殊的字符串，它其中包含了客户端的设备型号，操作系统及版本、浏览器及版本、浏览器渲染引擎等信息。服务器可以通过它来对客户端进"> <meta name="keywords" content="广告,Android,iOS"> <meta property="og:type" content="article"> <meta property="og:title" content="媒体广告变现优化之道（三）"> <meta property="og:url" content="https://coolcode.org/2020/02/27/ad-monetization-optimization-3/index.html"> <meta property="og:site_name" content="CoolCode"> <meta property="og:description" content="如何获取 User Agent书接上回，前面两篇文章分别讲解了如何获取 make，brand 和 model和如何获取移动设备唯一标识。今天我们来讲讲 User Agent 的获取方法。 User Agent 是什么User Agent 中文名为用户代理，简称 UA，它是一个特殊的字符串，它其中包含了客户端的设备型号，操作系统及版本、浏览器及版本、浏览器渲染引擎等信息。服务器可以通过它来对客户端进"> <meta property="og:locale" content="zh-CN"> <meta property="og:updated_time" content="2020-02-27T13:46:00.000Z"> <meta name="twitter:card" content="summary"> <meta name="twitter:title" content="媒体广告变现优化之道（三）"> <meta name="twitter:description" content="如何获取 User Agent书接上回，前面两篇文章分别讲解了如何获取 make，brand 和 model和如何获取移动设备唯一标识。今天我们来讲讲 User Agent 的获取方法。 User Agent 是什么User Agent 中文名为用户代理，简称 UA，它是一个特殊的字符串，它其中包含了客户端的设备型号，操作系统及版本、浏览器及版本、浏览器渲染引擎等信息。服务器可以通过它来对客户端进"> <link rel="alternate" type="application/atom+xml" title="CoolCode" href="../../../../atom.xml"> <link rel="shortcut icon" href="../../../../favicon.ico"> <link rel="stylesheet" href="../../../../css/style.css?v=1.7.2"> <script src="../../../../js/echarts.common.min.js?v=1.7.2"></script> <script>window.lazyScripts=[]</script> <link rel="manifest" href="/manifest.json"> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon-precomposed-144x144.png"> <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/img/apple-touch-icon-precomposed-120x120.png"> <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/img/apple-touch-icon-precomposed-72x72.png"> <link rel="apple-touch-icon-precomposed" href="/img/apple-touch-icon-precomposed-57x57.png"> </head> <body> <div id="loading" class="active"></div> <aside id="menu"> <div class="inner flex-row-vertical"> <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off"> <i class="icon icon-lg icon-close"></i> </a> <div class="brand-wrap" style="background-image:url(../../../../img/brand.jpg)"> <div class="brand"> <a href="../../../../index.html" class="avatar waves-effect waves-circle waves-light"> <img src="../../../../img/avatar.jpg"> </a> <hgroup class="introduce"> <h5 class="nickname">小马哥</h5> <a href="mailto:andot@qq.com" title="andot@qq.com" class="mail">andot@qq.com</a> </hgroup> <ul class="menu-link"> <li> <a href="https://github.com/andot" target="_blank"> <i class="icon icon-lg icon-github"></i> </a> </li> <li> <a href="https://sighttp.qq.com/authd?IDKEY=0f7b6690eff38f1a1bc274af3639750f34b370fb0f86105f" target="_blank"> <i class="icon icon-lg icon-qq"></i> </a> </li> </ul> </div> </div> <div class="scroll-wrap flex-col"> <ul class="nav"> <li class="waves-block waves-effect"> <a href="../../../../index.html"> <i class="icon icon-lg icon-home"></i> 主页 </a> </li> <li class="waves-block waves-effect"> <a href="../../../../archives"> <i class="icon icon-lg icon-archives"></i> 归档 </a> </li> <li class="waves-block waves-effect"> <a href="../../../../tags"> <i class="icon icon-lg icon-tags"></i> 标签 </a> </li> <li class="waves-block waves-effect"> <a href="../../../../categories"> <i class="icon icon-lg icon-th-list"></i> 分类 </a> </li> <li class="waves-block waves-effect"> <a href="../../../../about"> <i class="icon icon-lg icon-id-card"></i> 关于 </a> </li> </ul> </div> </div> </aside> <main id="main"> <header class="top-header" id="header"> <div class="flex-row"> <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle"> <i class="icon icon-lg icon-navicon"></i> </a> <div class="flex-col header-title ellipsis">媒体广告变现优化之道（三）</div> <div class="search-wrap" id="search-wrap"> <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back"> <i class="icon icon-lg icon-chevron-left"></i> </a> <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字"> <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search"> <i class="icon icon-lg icon-search"></i> </a> </div> <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare"> <i class="icon icon-lg icon-share-alt"></i> </a> </div> </header> <header class="content-header post-header"> <div class="container fade-scale"> <h1 class="title">媒体广告变现优化之道（三）</h1> <h5 class="subtitle"> <time datetime="2020-02-27T01:46:00.000Z" itemprop="datePublished" class="page-time"> 2020年02月27日 </time> <ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="../../../../categories/广告/">广告</a></li></ul> </h5> </div> </header> <div class="container body-wrap"> <aside class="post-widget"> <nav class="post-toc-wrap post-toc-shrink" id="post-toc"> <h4>目录</h4> <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#如何获取-User-Agent"><span class="post-toc-number">1.</span> <span class="post-toc-text">如何获取 User Agent</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#User-Agent-是什么"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">User Agent 是什么</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Android-系统下的获取方法"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">Android 系统下的获取方法</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#iOS-系统下的获取方法"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">iOS 系统下的获取方法</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#User-Agent-的合法性验证"><span class="post-toc-number">1.4.</span> <span class="post-toc-text">User Agent 的合法性验证</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#在-Android-4-4-KitKat-之前"><span class="post-toc-number">1.4.1.</span> <span class="post-toc-text">在 Android 4.4 (KitKat) 之前</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#从-Android-4-4-KitKat-到-Android-5-x（Lollipop）"><span class="post-toc-number">1.4.2.</span> <span class="post-toc-text">从 Android 4.4 (KitKat) 到 Android 5.x（Lollipop）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Android-5-x-Lollipop-之后"><span class="post-toc-number">1.4.3.</span> <span class="post-toc-text">Android 5.x (Lollipop) 之后</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#iPhone"><span class="post-toc-number">1.4.4.</span> <span class="post-toc-text">iPhone</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#iPad"><span class="post-toc-number">1.4.5.</span> <span class="post-toc-text">iPad</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#iPod-Touch"><span class="post-toc-number">1.4.6.</span> <span class="post-toc-text">iPod Touch</span></a></li></ol></li></ol></li></ol> </nav> </aside> <article id="post-ad-monetization-optimization-3" class="post-article article-type-post fade" itemprop="blogPost"> <div class="post-card"> <h1 class="post-card-title">媒体广告变现优化之道（三）</h1> <div class="post-meta"> <time class="post-time" title="2020年02月27日 09:46:00" datetime="2020-02-27T01:46:00.000Z" itemprop="datePublished">2020年02月27日</time> <ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="../../../../categories/广告/">广告</a></li></ul> <span id="busuanzi_container_page_pv" title="文章总阅读量" style="display:none"> <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span> </span> </div> <div class="post-content" id="post-content" itemprop="postContent"> <h1 id="如何获取-User-Agent"><a href="#如何获取-User-Agent" class="headerlink" title="如何获取 User Agent"></a>如何获取 User Agent</h1><p>书接上回，前面两篇文章分别讲解了<a href="https://coolcode.org/2020/02/17/ad-monetization-optimization-1/">如何获取 make，brand 和 model</a>和<a href="https://coolcode.org/2020/02/21/ad-monetization-optimization-2/">如何获取移动设备唯一标识</a>。今天我们来讲讲 User Agent 的获取方法。</p> <h2 id="User-Agent-是什么"><a href="#User-Agent-是什么" class="headerlink" title="User Agent 是什么"></a>User Agent 是什么</h2><p>User Agent 中文名为用户代理，简称 UA，它是一个特殊的字符串，它其中包含了客户端的设备型号，操作系统及版本、浏览器及版本、浏览器渲染引擎等信息。服务器可以通过它来对客户端进行各种分类统计，因此，对于移动广告来说，它是一个十分重要的请求参数，如果没有提交正确 User Agent，将会严重影响广告的正常充填。</p> <p>User Agent 虽然包含了这么多信息，但是它并不需要用户自己来构造。对于浏览器来说，每个浏览器都有自己默认的 User Agent，比如对于 Chrome 来说，它的 User Agent 看上去是下面这个样子：</p> <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Mozilla/5.0 (Linux; Android 4.0.4; Galaxy Nexus Build/IMM76B) AppleWebKit/535.19 (KHTML, like Gecko) Chrome/18.0.1025.133 Mobile Safari/535.19</span><br></pre></td></tr></table></figure> <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Mozilla/5.0 (iPhone; CPU iPhone OS 10_3 like Mac OS X) AppleWebKit/602.1.50 (KHTML, like Gecko) CriOS/56.0.2924.75 Mobile/14E5239e Safari/602.1</span><br></pre></td></tr></table></figure> <p>从上面两个 User Agent 中，我们可以看出第一个是来自 Android 4.0.4 系统的 Chrome 浏览器的，甚至我们还能知道它是来自 Galaxy Nexus 这样一台 Android 设备的。而第二个是来自 iPhone 系统上的 Chrome 浏览器的，系统的版本号是 10.3。</p> <p>也就是说，如果是在网站上投放广告（不管是普通网站，还是面向移动设备的网站）的话，User Agent 都可以自动通过浏览器的请求头部发送，当然也可以通过 JavaScript 脚本来获取 User Agent 并通过单独的请求发送。</p> <p>但是对于移动广告来说，广告请求通常是使用系统自带或来自第三方的网络库发送请求的，而网络库在发送请求时，通常不会自带有效的 User Agent 信息。因此，在这种情况下，我们需要自己从 <code>WebView</code> 中来获取一个有效的 User Agent。</p> <a id="more"></a> <h2 id="Android-系统下的获取方法"><a href="#Android-系统下的获取方法" class="headerlink" title="Android 系统下的获取方法"></a>Android 系统下的获取方法</h2><p>Android 下获取 User Agent 非常简单，不废话，直接先上代码：</p> <figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">DeviceInfo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String ua = <span class="string">""</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Context context = ...</span><br><span class="line">            ua = <span class="keyword">new</span> WebView(context).getSettings().getUserAgentString();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> String <span class="title">getUserAgent</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ua;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> <p>上面的代码中，<code>context</code> 获取的方式有很多，而且因为这不是重点，所以代码省略了，请大家自行脑补。</p> <h2 id="iOS-系统下的获取方法"><a href="#iOS-系统下的获取方法" class="headerlink" title="iOS 系统下的获取方法"></a>iOS 系统下的获取方法</h2><p>在 iOS 8.0 之前，可以通过 <code>UIWebView</code> 来获取：</p> <figure class="highlight objc"><table><tr><td class="code"><pre><span class="line"><span class="built_in">NSString</span>* userAgent = [[<span class="built_in">UIWebView</span> new] stringByEvaluatingJavaScriptFromString:<span class="string">@"navigator.userAgent"</span>];</span><br></pre></td></tr></table></figure> <p>但是从 iOS 8.0 开始，<code>UIWebView</code> 已经被标记为过期，不再推荐使用了，因此最好是使用 <code>WKWebView</code> 来获取：</p> <figure class="highlight objc"><table><tr><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="built_in">NSString</span>* userAgent;</span><br><span class="line"></span><br><span class="line">+(<span class="keyword">void</span>)load &#123;</span><br><span class="line">    <span class="built_in">WKWebView</span> *webView = [[<span class="built_in">WKWebView</span> alloc] initWithFrame:<span class="built_in">CGRectZero</span>];</span><br><span class="line">    [webView evaluateJavaScript:<span class="string">@"navigator.userAgent"</span> completionHandler:^(<span class="keyword">id</span> result, <span class="built_in">NSError</span> *error) &#123;</span><br><span class="line">        <span class="keyword">if</span> (error == <span class="literal">nil</span> &amp;&amp; result != <span class="literal">nil</span>) &#123;</span><br><span class="line">            userAgent = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%@"</span>, result];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            userAgent = <span class="string">@""</span>;</span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@"Can't get the userAgent"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;];</span><br><span class="line">    <span class="keyword">while</span> (userAgent == <span class="literal">nil</span>) &#123;</span><br><span class="line">        [[<span class="built_in">NSRunLoop</span> currentRunLoop] runMode:<span class="built_in">NSDefaultRunLoopMode</span> beforeDate:[<span class="built_in">NSDate</span> distantFuture]];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">+ (<span class="keyword">const</span> <span class="built_in">NSString</span> *)userAgent &#123;</span><br><span class="line">    <span class="keyword">return</span> userAgent;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> <p>因为 <code>WKWebView</code> 的 <code>evaluateJavaScript</code> 方法是异步的，没办法直接得到结果，因此我们这里用 <code>load</code> 方法在 app 加载时就执行的方式，提前缓存 User Agent 的结果。并且为了保证一定可以拿到结果，这里用了 <code>NSRunLoop</code> 来保证拿到 <code>userAgent</code> 之后才会退出 <code>load</code> 方法。</p> <p>除了使用 <code>load</code> 方法以外，使用 <code>initialize</code> 方法也可以实现提前加载，只是执行时机靠后一些。</p> <p>但如果你所使用的是 Swift 语言，而不是 Objective-C 的话，那就没办法直接使用 <code>load</code> 或 <code>initialize</code> 方法了，因为 Swift 语言中砍掉了这两个方法。但可以使用跟 Objective-C 混编的方式来实现。</p> <h2 id="User-Agent-的合法性验证"><a href="#User-Agent-的合法性验证" class="headerlink" title="User Agent 的合法性验证"></a>User Agent 的合法性验证</h2><p>通过 Android 的 <code>WebView</code> 获取到的 User Agent 大概有一下几种形式。</p> <h3 id="在-Android-4-4-KitKat-之前"><a href="#在-Android-4-4-KitKat-之前" class="headerlink" title="在 Android 4.4 (KitKat) 之前"></a>在 Android 4.4 (KitKat) 之前</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Mozilla/5.0 (Linux; U; Android 4.1.1; en-gb; Build/KLP) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Safari/534.30</span><br></pre></td></tr></table></figure> <h3 id="从-Android-4-4-KitKat-到-Android-5-x（Lollipop）"><a href="#从-Android-4-4-KitKat-到-Android-5-x（Lollipop）" class="headerlink" title="从 Android 4.4 (KitKat) 到 Android 5.x（Lollipop）"></a>从 Android 4.4 (KitKat) 到 Android 5.x（Lollipop）</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Mozilla/5.0 (Linux; Android 4.4.4; vivo Y27 Build/KTU84P) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/33.0.0.0 Mobile Safari/537.36</span><br></pre></td></tr></table></figure> <h3 id="Android-5-x-Lollipop-之后"><a href="#Android-5-x-Lollipop-之后" class="headerlink" title="Android 5.x (Lollipop) 之后"></a>Android 5.x (Lollipop) 之后</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Mozilla/5.0 (Linux; Android 10; ELE-AL00 Build/HUAWEIELE-AL00; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/74.0.3729.186 Mobile Safari/537.36</span><br></pre></td></tr></table></figure> <p>从上面的划分来看，在 Android 4.4 之前的 User Agent 的格式跟 Android 4.4 之后的格式化差别有点大。但是从 Android 4.4 开始，User Agent 就都是以 <code>Mozilla/5.0 (Linux; Android</code> 作为开头的啦，考虑到 Android 4.4 之前的设备基本上已经被淘汰，因此我们可以通过匹配这段文字来对 Android 的 User Agent 的合法性进行简单的验证。</p> <p>Android 5.1 之后的 User Agent 主要是增加了 <code>wv</code> 标志，而它其实是跟 <code>Chrome</code> 后面的版本号有关的，如果是 <code>3x.x.x.x</code> 版本的 <code>Chrome</code> 就没有 <code>wv</code>，如果是 <code>4x.x.x.x</code> 或者更高版本的 <code>Chrome</code>，则有 <code>wv</code>。Android 5.x 系统这两种情况都存在，这跟具体设备中内置的 <code>WebView</code> 版本有关，这里不做深究。</p> <p>在 iOS 系统中，通过 <code>WebView</code> 获取的 User Agent 有下面几种形式。</p> <h3 id="iPhone"><a href="#iPhone" class="headerlink" title="iPhone"></a>iPhone</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Mozilla/5.0 (iPhone; CPU iPhone OS 13_3_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148</span><br></pre></td></tr></table></figure> <h3 id="iPad"><a href="#iPad" class="headerlink" title="iPad"></a>iPad</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Mozilla/5.0 (iPad; CPU OS 10_3_3 like Mac OS X) AppleWebKit/603.3.8 (KHTML, like Gecko) Mobile/14G60</span><br></pre></td></tr></table></figure> <h3 id="iPod-Touch"><a href="#iPod-Touch" class="headerlink" title="iPod Touch"></a>iPod Touch</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Mozilla/5.0 (iPod Touch; CPU iPhone OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko)  Mobile/15E148</span><br></pre></td></tr></table></figure> <p>我们会发现这三种设备的 User Agent 中都包含有 <code>like Mac OS X</code> 这段共同特征的文字，并且都是以 <code>Mozilla/5.0 (iP</code> 来开头的，因此我们可以用这两个特征来对 iOS 的 User Agent 的合法性进行简单的验证。</p> <p>另外，通过 User Agent 还可以提取设备类型，操作系统版本号等信息，因为只要做简单的文字匹配就可以做到，这里就不贴代码了。</p> </div> <blockquote class="post-copyright"> <div class="content"> <span class="post-time"> 最后更新时间：<time datetime="2020-02-27T13:46:00.000Z" itemprop="dateUpdated">2020年02月27日 21:46:00</time> </span><br> 本文共计 1,505 字，阅读时长预计 6 分钟<br>转载注明出处，原文地址：<a href="" target="_blank" rel="external">https://coolcode.org/2020/02/27/ad-monetization-optimization-3/</a> </div> <footer> <a href="https://coolcode.org"> <img src="../../../../img/avatar.jpg" alt="小马哥"> 小马哥 </a> </footer> </blockquote> <div class="page-reward"> <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a> </div> <div class="post-footer"> <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="../../../../tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="../../../../tags/iOS/">iOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="../../../../tags/广告/">广告</a></li></ul> <div class="page-share-wrap"> <div class="page-share" id="pageShare"> <ul class="reset share-icons"> <li> <a class="weibo share-sns" target="_blank" href="https://service.weibo.com/share/share.php?url=https://coolcode.org/2020/02/27/ad-monetization-optimization-3/&title=《媒体广告变现优化之道（三）》 — CoolCode&pic=https://coolcode.org/img/avatar.jpg" data-title="微博"> <i class="icon icon-weibo"></i> </a> </li> <li> <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信"> <i class="icon icon-weixin"></i> </a> </li> <li> <a class="qq share-sns" target="_blank" href="https://connect.qq.com/widget/shareqq/index.html?url=https://coolcode.org/2020/02/27/ad-monetization-optimization-3/&title=《媒体广告变现优化之道（三）》 — CoolCode&source=如何获取 User Agent书接上回，前面两篇文章分别讲解了如何获取 make，brand 和 model和如何获取移动设备唯一标识。今天我们来讲讲 U..." data-title=" QQ"> <i class="icon icon-qq"></i> </a> </li> <li> <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://coolcode.org/2020/02/27/ad-monetization-optimization-3/" data-title=" Facebook"> <i class="icon icon-facebook"></i> </a> </li> <li> <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《媒体广告变现优化之道（三）》 — CoolCode&url=https://coolcode.org/2020/02/27/ad-monetization-optimization-3/&via=https://coolcode.org" data-title=" Twitter"> <i class="icon icon-twitter"></i> </a> </li> <li> <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://coolcode.org/2020/02/27/ad-monetization-optimization-3/" data-title=" Google+"> <i class="icon icon-google-plus"></i> </a> </li> </ul> </div> <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle"> <i class="icon icon-share-alt icon-lg"></i> </a> </div> </div> </div> <nav class="post-nav flex-row flex-justify-between"> <div class="waves-block waves-effect prev"> <a href="../../../03/06/ad-monetization-optimization-4/" id="post-prev" class="post-nav-link"> <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div> <h4 class="title">媒体广告变现优化之道（四）</h4> </a> </div> <div class="waves-block waves-effect next"> <a href="../../21/ad-monetization-optimization-2/" id="post-next" class="post-nav-link"> <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div> <h4 class="title">媒体广告变现优化之道（二）</h4> </a> </div> </nav> <section class="comments" id="comments"> <div id="gitment_thread"></div> <script type="text/javascript" src="../../../../js/gitment.browser.min.js?v=1.7.2"></script> <script>var gitment=new Gitmint({lang:"zh-CN",owner:"andot",repo:"CoolCode",id:"媒体广告变现优化之道（三）",oauth:{client_id:"0dfa8bd57a3253425991",client_secret:"cc7af9e85ee4abda607ea1a5d5a0f55e1e6c256a"}});gitment.render("comments")</script> </section> </article> <div id="reward" class="page-modal reward-lay"> <a class="close" href="javascript:;"><i class="icon icon-close"></i></a> <h3 class="reward-title"> <i class="icon icon-quote-left"></i> 感谢您的支持~ <i class="icon icon-quote-right"></i> </h3> <div class="reward-content"> <div class="reward-code"> <img id="rewardCode" src="../../../../img/wechat.jpg" alt="打赏二维码"> </div> <label class="reward-toggle"> <input id="rewardToggle" type="checkbox" class="reward-toggle-check" data-wechat="../../../../img/wechat.jpg" data-alipay="../../../../img/alipay.jpg"> <div class="reward-toggle-ctrol"> <span class="reward-toggle-item wechat">微信</span> <span class="reward-toggle-label"></span> <span class="reward-toggle-item alipay">支付宝</span> </div> </label> </div> </div> </div> <footer class="footer"> <div class="bottom"> <p> <span id="busuanzi_container_site_uv"> 站点总访客数：<span id="busuanzi_value_site_uv"><i class="icon icon-lg icon-spinner"></i></span> </span> <span id="busuanzi_container_site_pv"> 站点总访问量：<span id="busuanzi_value_site_pv"><i class="icon icon-lg icon-spinner"></i></span> </span> </p> <p> <span><a href="../../../../atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span> <span>博客内容遵循 <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span> </p> <p> <span>小马哥 &copy; 2005 - 2020</span> <span> <a href="http://www.miitbeian.gov.cn/" target="_blank">鲁ICP备17003119号-8</a> </span><span>Power by <a href="https://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a></span> <span>Hosted by <a href="https://pages.github.com" style="font-weight:700">GitHub Pages</a></span> </p> </div> </footer> </main> <div class="mask" id="mask"></div> <a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a> <div class="global-share" id="globalShare"> <ul class="reset share-icons"> <li> <a class="weibo share-sns" target="_blank" href="https://service.weibo.com/share/share.php?url=https://coolcode.org/2020/02/27/ad-monetization-optimization-3/&title=《媒体广告变现优化之道（三）》 — CoolCode&pic=https://coolcode.org/img/avatar.jpg" data-title="微博"> <i class="icon icon-weibo"></i> </a> </li> <li> <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信"> <i class="icon icon-weixin"></i> </a> </li> <li> <a class="qq share-sns" target="_blank" href="https://connect.qq.com/widget/shareqq/index.html?url=https://coolcode.org/2020/02/27/ad-monetization-optimization-3/&title=《媒体广告变现优化之道（三）》 — CoolCode&source=如何获取 User Agent书接上回，前面两篇文章分别讲解了如何获取 make，brand 和 model和如何获取移动设备唯一标识。今天我们来讲讲 U..." data-title=" QQ"> <i class="icon icon-qq"></i> </a> </li> <li> <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://coolcode.org/2020/02/27/ad-monetization-optimization-3/" data-title=" Facebook"> <i class="icon icon-facebook"></i> </a> </li> <li> <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《媒体广告变现优化之道（三）》 — CoolCode&url=https://coolcode.org/2020/02/27/ad-monetization-optimization-3/&via=https://coolcode.org" data-title=" Twitter"> <i class="icon icon-twitter"></i> </a> </li> <li> <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://coolcode.org/2020/02/27/ad-monetization-optimization-3/" data-title=" Google+"> <i class="icon icon-google-plus"></i> </a> </li> </ul> </div> <div class="page-modal wx-share" id="wxShare"> <a class="close" href="javascript:;"><i class="icon icon-close"></i></a> <p>扫一扫，分享到微信</p> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACuElEQVR42u3awWrsMAwF0P7/T0/hrQptMleSNeHB8aqE1PHxwvJI+vqKx+vfuH/++jHu//f3m1fzJ2s4MPDw8PBaS78aV+/k1HzO+82qzo+Hh4e3zasu9/7Q7x3r1e2LvoKHh4f3KK/3meTQT6h4eHh4/y8vTxlUL8rz9eDh4eF9kpekBvKrdi+xO09k4OHh4X2G1zvun/17sb6Hh4eHN6iq54d+L1RM/itaLR4eHt4Cr1rcSp7nbVjVtoBm8QwPDw/vKC9Jp+YfmyRn8/kLiWA8PDy8ZV7eINVL6W4EgDehCA8PD2+Nlx/o1Wap/DJdfRIV2PDw8PAWePkP+3mpfhIq8vRHuTCGh4eHV+TlUyfHfX4dz6/dvZBzmWvBw8PDO8SbX2qTRHA1zVG4Il99EQ8PD2+BV01A5M/zi28vON3j8fDw8LZ5eWL0vvSVtyDMExzHsix4eHh4A16zmNT6fL5Z1UTG5Qx4eHh4a7zkSS9VMdmyalDBw8PD2+YljPspes0EvXCSF8Pw8PDwNnjJopNyV3ULJluZBww8PDy8p3i9hELeXjBJJb9ZCR4eHt4a7/6gr5b5ewmFHuzNV/Dw8PAWeL2U66QBq5pcmGw6Hh4e3jYvT8jOm6iqLVzV63UUN/Dw8PAO8XqMPJwkCdxq40Lv8o2Hh4fX4+UJ3GpbQH7o50nhPNmBh4eH9xleLzycLWJNvnjZTYaHh4d3lFf9GT95pxoeekHocg14eHh4h3iv4piwy8WqYsCIfjHg4eHhjXn5qJbw50mNXpEMDw8P7zO8JBjkOzRvpTp74cbDw8Pb482LWNVgkKd0qwHsj8CAh4eH9xAv7+Sat2T15rms8uHh4eE9yssbSavv91oQ3mwWHh4e3hovT0b0csPVoDK5duPh4eFt8yYFsN4lu7q43oUbDw8Pb4H3DVmvDQGWQeujAAAAAElFTkSuQmCC" alt="微信分享二维码"> </div> <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script> <script>var BLOG={ROOT:"/",SHARE:!0,REWARD:!0}</script> <script src="../../../../js/main.min.js?v=1.7.2"></script> <div class="search-panel" id="search-panel"> <ul class="search-result" id="search-result"></ul> </div> <template id="search-tpl"> <li class="item"> <a href="{path}" class="waves-block waves-effect"> <div class="title ellipsis" title="{title}">{title}</div> <div class="flex-row flex-middle"> <div class="tags ellipsis"> {tags} </div> <time class="flex-col time">{date}</time> </div> </a> </li> </template> <script src="../../../../js/search.min.js?v=1.7.2" async></script> <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> </body> </html> 