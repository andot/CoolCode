<!DOCTYPE html> <html> <head><meta name="generator" content="Hexo 3.9.0"> <script>var _hmt=_hmt||[]</script> <script async src="//hm.baidu.com/hm.js?3d88a42f36d311b6e2c830ea185ed398"></script> <script>!function(){var t=document.createElement("script");t.setAttribute("async",!0);var e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script> <meta charset="utf-8"> <link rel="canonical" href="https://coolcode.org"> <title>Hprose 3.0 for .NET 的序列化为何这么快</title> <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"> <meta name="theme-color" content="#3F51B5"> <meta name="keywords" content="c#,hprose,.net"> <meta name="description" content="经过一年的开发，Hprose 3.0 for .NET 的序列化反序列化部分终于基本上完成了。 这次升级是完全重写了 Hprose for .NET 的代码。 之前的 Hprose 1.x for .NET 兼容 .NET 所有的平台版本，包括 .NET Framework 、.NET Compact Framework、.NET Micro Framework、SilverLight、Windo"> <meta name="keywords" content="c#,hprose,.net"> <meta property="og:type" content="article"> <meta property="og:title" content="Hprose 3.0 for .NET 的序列化为何这么快"> <meta property="og:url" content="https://coolcode.org/2018/05/05/why-the-serialization-of-hprose-3.0-for-dotnet-is-so-fast/index.html"> <meta property="og:site_name" content="CoolCode"> <meta property="og:description" content="经过一年的开发，Hprose 3.0 for .NET 的序列化反序列化部分终于基本上完成了。 这次升级是完全重写了 Hprose for .NET 的代码。 之前的 Hprose 1.x for .NET 兼容 .NET 所有的平台版本，包括 .NET Framework 、.NET Compact Framework、.NET Micro Framework、SilverLight、Windo"> <meta property="og:locale" content="zh-CN"> <meta property="og:updated_time" content="2019-02-22T12:41:00.000Z"> <meta name="twitter:card" content="summary"> <meta name="twitter:title" content="Hprose 3.0 for .NET 的序列化为何这么快"> <meta name="twitter:description" content="经过一年的开发，Hprose 3.0 for .NET 的序列化反序列化部分终于基本上完成了。 这次升级是完全重写了 Hprose for .NET 的代码。 之前的 Hprose 1.x for .NET 兼容 .NET 所有的平台版本，包括 .NET Framework 、.NET Compact Framework、.NET Micro Framework、SilverLight、Windo"> <link rel="alternate" type="application/atom+xml" title="CoolCode" href="../../../../atom.xml"> <link rel="shortcut icon" href="../../../../favicon.ico"> <link rel="stylesheet" href="../../../../css/style.css?v=1.7.2"> <script src="../../../../js/echarts.common.min.js?v=1.7.2"></script> <script>window.lazyScripts=[]</script> <link rel="manifest" href="/manifest.json"> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon-precomposed-144x144.png"> <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/img/apple-touch-icon-precomposed-120x120.png"> <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/img/apple-touch-icon-precomposed-72x72.png"> <link rel="apple-touch-icon-precomposed" href="/img/apple-touch-icon-precomposed-57x57.png"> </head> <body> <div id="loading" class="active"></div> <aside id="menu"> <div class="inner flex-row-vertical"> <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off"> <i class="icon icon-lg icon-close"></i> </a> <div class="brand-wrap" style="background-image:url(../../../../img/brand.jpg)"> <div class="brand"> <a href="../../../../index.html" class="avatar waves-effect waves-circle waves-light"> <img src="../../../../img/avatar.jpg"> </a> <hgroup class="introduce"> <h5 class="nickname">小马哥</h5> <a href="mailto:andot@qq.com" title="andot@qq.com" class="mail">andot@qq.com</a> </hgroup> <ul class="menu-link"> <li> <a href="https://github.com/andot" target="_blank"> <i class="icon icon-lg icon-github"></i> </a> </li> <li> <a href="https://sighttp.qq.com/authd?IDKEY=0f7b6690eff38f1a1bc274af3639750f34b370fb0f86105f" target="_blank"> <i class="icon icon-lg icon-qq"></i> </a> </li> </ul> </div> </div> <div class="scroll-wrap flex-col"> <ul class="nav"> <li class="waves-block waves-effect"> <a href="../../../../index.html"> <i class="icon icon-lg icon-home"></i> 主页 </a> </li> <li class="waves-block waves-effect"> <a href="../../../../archives"> <i class="icon icon-lg icon-archives"></i> 归档 </a> </li> <li class="waves-block waves-effect"> <a href="../../../../tags"> <i class="icon icon-lg icon-tags"></i> 标签 </a> </li> <li class="waves-block waves-effect"> <a href="../../../../categories"> <i class="icon icon-lg icon-th-list"></i> 分类 </a> </li> <li class="waves-block waves-effect"> <a href="../../../../about"> <i class="icon icon-lg icon-id-card"></i> 关于 </a> </li> </ul> </div> </div> </aside> <main id="main"> <header class="top-header" id="header"> <div class="flex-row"> <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle"> <i class="icon icon-lg icon-navicon"></i> </a> <div class="flex-col header-title ellipsis">Hprose 3.0 for .NET 的序列化为何这么快</div> <div class="search-wrap" id="search-wrap"> <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back"> <i class="icon icon-lg icon-chevron-left"></i> </a> <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字"> <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search"> <i class="icon icon-lg icon-search"></i> </a> </div> <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare"> <i class="icon icon-lg icon-share-alt"></i> </a> </div> </header> <header class="content-header post-header"> <div class="container fade-scale"> <h1 class="title">Hprose 3.0 for .NET 的序列化为何这么快</h1> <h5 class="subtitle"> <time datetime="2018-05-05T03:33:00.000Z" itemprop="datePublished" class="page-time"> 2018年05月05日 </time> <ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="../../../../categories/编程/">编程</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="../../../../categories/编程/Hprose/">Hprose</a></li></ul></li></ul> </h5> </div> </header> <div class="container body-wrap"> <aside class="post-widget"> <nav class="post-toc-wrap post-toc-shrink" id="post-toc"> <h4>目录</h4> <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#泛型序列化器和反序列化器"><span class="post-toc-number">1.</span> <span class="post-toc-text">泛型序列化器和反序列化器</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#通过表达式树来存取字段和属性"><span class="post-toc-number">2.</span> <span class="post-toc-text">通过表达式树来存取字段和属性</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#通过表达式树来创建对象"><span class="post-toc-number">3.</span> <span class="post-toc-text">通过表达式树来创建对象</span></a></li></ol> </nav> </aside> <article id="post-why-the-serialization-of-hprose-3.0-for-dotnet-is-so-fast" class="post-article article-type-post fade" itemprop="blogPost"> <div class="post-card"> <h1 class="post-card-title">Hprose 3.0 for .NET 的序列化为何这么快</h1> <div class="post-meta"> <time class="post-time" title="2018年05月05日 11:33:00" datetime="2018-05-05T03:33:00.000Z" itemprop="datePublished">2018年05月05日</time> <ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="../../../../categories/编程/">编程</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="../../../../categories/编程/Hprose/">Hprose</a></li></ul></li></ul> <span id="busuanzi_container_page_pv" title="文章总阅读量" style="display:none"> <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span> </span> </div> <div class="post-content" id="post-content" itemprop="postContent"> <p>经过一年的开发，Hprose 3.0 for .NET 的序列化反序列化部分终于基本上完成了。</p> <p>这次升级是完全重写了 Hprose for .NET 的代码。</p> <p>之前的 Hprose 1.x for .NET 兼容 .NET 所有的平台版本，包括 .NET Framework 、.NET Compact Framework、.NET Micro Framework、SilverLight、Windows Phone、Mono、.NET Core 等。</p> <p>这次升级取消了对一些过时的 .NET 平台的支持。仅保留了对 .NET 3.5 Compact Framework、.NET 4.0+、.NET Core 2.0+、.NETStandard 2.0（包含 Android、iOS、Mac 平台）的支持。</p> <p>这次升级后的代码，使用了最新版本的 C# 的语法来编写，代码在可读性和性能上较之之前的版本都有了极大的改进。</p> <p>下面我们就来看看 Hprose 3.0 for .NET 序列化究竟有多快。</p> <p>首先来看一下对象数组序列化反序列化性能对比，测试代码为：<a href="https://github.com/hprose/hprose-dotnet/blob/master/tests/Hprose.Benchmark/IO/BenchmarkObjectSerialize.cs" target="_blank" rel="noopener">BenchmarkObjectSerialize.cs</a>，测试结果如下表所示：</p> <div id="echarts3040" style="width:85%;height:400px;margin:0 auto"></div><script type="text/javascript">var myChart=echarts.init(document.getElementById("echarts3040"));myChart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:[".NET Framework 4.7.1 序列化",".NET Framework 4.7.1 反序列化",".NET Core 2.0.7 序列化",".NET Core 2.0.7 反序列化","Mono 5.4.0 序列化","Mono 5.4.0 反序列化"],x:"center",y:"top",selectedMode:"multiple"},toolbox:{feature:{dataView:{readOnly:!0,show:!1},magicType:{type:["line","bar","stack","tiled"],show:!1}}},calculable:!1,xAxis:[{type:"value",name:"时间（us）"}],yAxis:[{type:"category",data:["Hprose","Newton","DataContract"]}],series:[{name:".NET Framework 4.7.1 序列化",type:"bar",data:[1.482,2.352,2.955],stack:".NET Framework 4.7.1"},{name:".NET Framework 4.7.1 反序列化",type:"bar",data:[1.34,3.747,9.119],stack:".NET Framework 4.7.1"},{name:".NET Core 2.0.7 序列化",type:"bar",data:[1.434,2.241,3.017],stack:".NET Core 2.0.7"},{name:".NET Core 2.0.7 反序列化",type:"bar",data:[1.248,3.711,9.686],stack:".NET Core 2.0.7"},{name:"Mono 5.4.0 序列化",type:"bar",data:[3.581,4.178,42.502],stack:"Mono 5.4.0"},{name:"Mono 5.4.0 反序列化",type:"bar",data:[3.688,5.758,67.104],stack:"Mono 5.4.0"}],title:{text:"对象数组序列化反序列化性能对比",x:"center",y:"bottom"}})</script> <p>Hprose 3.0 相对于 1.x 相比，增加了对 DataSet、DataTable 序列化和反序列化的支持。下面是 DataSet 序列化反序列化性能对比，测试代码为：<a href="https://github.com/hprose/hprose-dotnet/blob/master/tests/Hprose.Benchmark/IO/BenchmarkDataSetSerialize.cs" target="_blank" rel="noopener">BenchmarkDataSetSerialize.cs</a>，测试结果如下表所示：</p> <div id="echarts2490" style="width:85%;height:400px;margin:0 auto"></div><script type="text/javascript">var myChart=echarts.init(document.getElementById("echarts2490"));myChart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:[".NET Framework 4.7.1 序列化",".NET Framework 4.7.1 反序列化",".NET Core 2.0.7 序列化",".NET Core 2.0.7 反序列化","Mono 5.4.0 序列化","Mono 5.4.0 反序列化"],x:"center",y:"top",selectedMode:"multiple"},toolbox:{feature:{dataView:{readOnly:!0,show:!1},magicType:{type:["line","bar","stack","tiled"],show:!1}}},calculable:!1,xAxis:[{type:"value",name:"时间（us）"}],yAxis:[{type:"category",data:["Hprose","Newton","DataContract"]}],series:[{name:".NET Framework 4.7.1 序列化",type:"bar",data:[7.843,11.061,131.137],stack:".NET Framework 4.7.1"},{name:".NET Framework 4.7.1 反序列化",type:"bar",data:[23.729,40.371,442.49],stack:".NET Framework 4.7.1"},{name:".NET Core 2.0.7 序列化",type:"bar",data:[7.776,11.192,164.812],stack:".NET Core 2.0.7"},{name:".NET Core 2.0.7 反序列化",type:"bar",data:[26.891,42.013,483.147],stack:".NET Core 2.0.7"},{name:"Mono 5.4.0 序列化",type:"bar",data:[14.637,19.407,243.184],stack:"Mono 5.4.0"},{name:"Mono 5.4.0 反序列化",type:"bar",data:[43.068,77.235,641.725],stack:"Mono 5.4.0"}],title:{text:"DataSet 序列化反序列化性能对比",x:"center",y:"bottom"}})</script> <p>从上面两个图表可以看出，虽然 Newton Json 的序列化反序列化性能跟 .NET 自带的 DataContract 相比已经高出很多，但是 Hprose 比 Newton Json 还要快 1 倍左右。这是怎么做到的呢？下面我们就来详细剖析一下。</p> <a id="more"></a> <h1 id="泛型序列化器和反序列化器"><a href="#泛型序列化器和反序列化器" class="headerlink" title="泛型序列化器和反序列化器"></a>泛型序列化器和反序列化器</h1><p>在 Hprose 1.x for .NET 中，序列化和反序列化的代码主要是在 <code>HproseWriter</code> 和 <code>HproseReader</code> 两个类中实现的。</p> <p>而 Hprose 3.0 for .NET 中，序列化和反序列化的代码则分别放在 <code>Hprose.IO.Serializers</code> 和 <code>Hprose.IO.Deserializers</code> 两个名称空间下面，并且定义了两个抽象的泛型类 <code>Serializer&lt;T&gt;</code> 和 <code>Deserializer&lt;T&gt;</code> 来负责序列化和反序列化。</p> <p>每种具体的数据类型的序列化都由一个具体的序列化器来实现，反序列化则由一个具体的反序列化器来实现。</p> <p>具体的序列化器和反序列化器通过 <code>Serializer&lt;T&gt;</code> 和 <code>Deserializer&lt;T&gt;</code> 的 <code>Instance</code> 属性来获得。</p> <p>基本类型和几个常用类型的序列化器、反序列化器被注册在 <code>Serializer</code> 和 <code>Deserializer</code> 这两个非泛型类的静态初始化方法中，当它们第一次被调用时会自动初始化。</p> <p>而对于数组、枚举、容器和自定义类型，则会在泛型序列化器和反序列化器的 <code>Instance</code> 属性第一次被调用时初始化。</p> <p>通过这种方式，实现代码不但变得更清晰易懂，而且更便于扩展。</p> <p>另外还有一个附加的好处，就是当知道要序列化或反序列化的具体类型时，序列化器和反序列化器可以直接通过泛型类的 <code>Instance</code> 属性获取到，从而省去了判断查找的时间。</p> <p>序列化器和反序列化器除了直接缓存在泛型类的 <code>Instance</code> 属性中以外，还在非泛型的 <code>Serializer</code> 和 <code>Deserializer</code> 类中通过 <code>ConcurrentDictionary</code> 静态字段容器做了缓存。</p> <p>虽然通过 <code>ConcurrentDictionary</code> 这种缓存方式要比直接通过泛型类的 <code>Instance</code> 属性来获取序列化器和反序列化器在速度上慢几十纳秒，但是对于无法在编译期就能获取到具体类型的数据来说，这仍然是最快速的获取序列化器和反序列化器的方式。</p> <p>除了对序列化器和反序列化器采用了这种特化泛型类 + <code>ConcurrentDictionary</code> 的双缓存模式以外，Hprose 在属性字段存取器、类型转换器等实现上也采用了这种方式。</p> <p>这是 Hprose 3.0 for .NET 序列化和反序列化性能提高的最主要原因之一。</p> <h1 id="通过表达式树来存取字段和属性"><a href="#通过表达式树来存取字段和属性" class="headerlink" title="通过表达式树来存取字段和属性"></a>通过表达式树来存取字段和属性</h1><p>在 Hprose 1.x for .NET 中，对于自定义类型的字段和属性的存取，根据不同的平台采用了直接反射和 Emit 生成代码两种方式。</p> <p>在 Hprose 3.0 for .NET 中，则统一使用了表达式树生成代码的方式。表达式树生成的代码跟使用 Emit 生成的代码，在执行效率上是没有差别的。但是在实现上，表达式树实现的代码具有更好的可读性。</p> <p>另外，对于表达式树生成的代码也做了双缓冲，因此序列化反序列化自定义对象的执行效率几乎可以达到甚至超过硬编码的效率。</p> <h1 id="通过表达式树来创建对象"><a href="#通过表达式树来创建对象" class="headerlink" title="通过表达式树来创建对象"></a>通过表达式树来创建对象</h1><p>在 C# 中创建一个对象，可以通过 <code>new</code> 关键字来创建，也可以通过反射的方式来创建。跟通过反射创建对象相比，<code>new</code> 一个对象显然要快的多。</p> <p>但是创建泛型对象是个特例。例如：</p> <figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> T New&lt;T&gt;() <span class="keyword">where</span> T : <span class="keyword">new</span>() =&gt; <span class="keyword">new</span> T();</span><br></pre></td></tr></table></figure> <p>这个方法，它在调用时，<code>new T()</code> 生成的 IL 代码实际上跟：</p> <figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">Activator.CreateInstance&lt;T&gt;();</span><br></pre></td></tr></table></figure> <p>是差不多的。</p> <p>也就是说，虽然代码中写的是 <code>new T()</code>，但是实际上调用的却是 <code>Activator.CreateInstance&lt;T&gt;()</code>。</p> <p>Hprose 中为了更快的创建泛型对象，使用了下面这个泛型对象创建工厂：</p> <figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">public static class Factory&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">readonly</span> Func&lt;T&gt; constructor = GetConstructor();</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> Func&lt;T&gt; <span class="title">GetConstructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> Expression.Lambda&lt;Func&lt;T&gt;&gt;(Expression.New(<span class="keyword">typeof</span>(T))).Compile();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> () =&gt; (T)Activator.CreateInstance(<span class="keyword">typeof</span>(T), <span class="literal">true</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> T <span class="title">New</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> constructor();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> <p>该工厂类通过表达式树来生成创建对象的代码，表达式树生成的代码跟直接 <code>new</code> 具体类型是一样的，速度上比 <code>Activator.CreateInstance&lt;T&gt;()</code> 要快 2 - 3 倍（在 Mono 平台上甚至会快几十倍）。只有当表达式树创建失败时，才会使用 <code>Activator.CreateInstance</code> 作为代替方案。另外，这里使用的是 <code>Activator.CreateInstance(typeof(T), true)</code>，这样不但在性能上比 <code>Activator.CreateInstance&lt;T&gt;()</code> 快几纳秒，而且它还可以创建只有非 <code>public</code> 无参构造器的类的对象。</p> <p>最新版本的代码可以在 github 的 <a href="https://github.com/hprose/hprose-dotnet" target="_blank" rel="noopener">hprose/hprose-dotnet</a> 中查看。如果大家有更好的改进方式，欢迎大家提交修改。</p> </div> <blockquote class="post-copyright"> <div class="content"> <span class="post-time"> 最后更新时间：<time datetime="2019-02-22T12:41:00.000Z" itemprop="dateUpdated">2019年02月22日 20:41:00</time> </span><br> 本文共计 1,563 字，阅读时长预计 6 分钟<br>转载注明出处，原文地址：<a href="" target="_blank" rel="external">https://coolcode.org/2018/05/05/why-the-serialization-of-hprose-3.0-for-dotnet-is-so-fast/</a> </div> <footer> <a href="https://coolcode.org"> <img src="../../../../img/avatar.jpg" alt="小马哥"> 小马哥 </a> </footer> </blockquote> <div class="page-reward"> <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a> </div> <div class="post-footer"> <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="../../../../tags/net/">.net</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="../../../../tags/c/">c#</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="../../../../tags/hprose/">hprose</a></li></ul> <div class="page-share-wrap"> <div class="page-share" id="pageShare"> <ul class="reset share-icons"> <li> <a class="weibo share-sns" target="_blank" href="https://service.weibo.com/share/share.php?url=https://coolcode.org/2018/05/05/why-the-serialization-of-hprose-3.0-for-dotnet-is-so-fast/&title=《Hprose 3.0 for .NET 的序列化为何这么快》 — CoolCode&pic=https://coolcode.org/img/avatar.jpg" data-title="微博"> <i class="icon icon-weibo"></i> </a> </li> <li> <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信"> <i class="icon icon-weixin"></i> </a> </li> <li> <a class="qq share-sns" target="_blank" href="https://connect.qq.com/widget/shareqq/index.html?url=https://coolcode.org/2018/05/05/why-the-serialization-of-hprose-3.0-for-dotnet-is-so-fast/&title=《Hprose 3.0 for .NET 的序列化为何这么快》 — CoolCode&source=经过一年的开发，Hprose 3.0 for .NET 的序列化反序列化部分终于基本上完成了。
这次升级是完全重写了 Hprose for .NET 的代..." data-title=" QQ"> <i class="icon icon-qq"></i> </a> </li> <li> <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://coolcode.org/2018/05/05/why-the-serialization-of-hprose-3.0-for-dotnet-is-so-fast/" data-title=" Facebook"> <i class="icon icon-facebook"></i> </a> </li> <li> <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Hprose 3.0 for .NET 的序列化为何这么快》 — CoolCode&url=https://coolcode.org/2018/05/05/why-the-serialization-of-hprose-3.0-for-dotnet-is-so-fast/&via=https://coolcode.org" data-title=" Twitter"> <i class="icon icon-twitter"></i> </a> </li> <li> <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://coolcode.org/2018/05/05/why-the-serialization-of-hprose-3.0-for-dotnet-is-so-fast/" data-title=" Google+"> <i class="icon icon-google-plus"></i> </a> </li> </ul> </div> <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle"> <i class="icon icon-share-alt icon-lg"></i> </a> </div> </div> </div> <nav class="post-nav flex-row flex-justify-between"> <div class="waves-block waves-effect prev"> <a href="../../../../2019/02/22/how-to-compile-hprose-3.0-for-dotnet-on-vs2019/" id="post-prev" class="post-nav-link"> <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div> <h4 class="title">如何在 VS2019 下编译 Hprose 3.0 for .NET</h4> </a> </div> <div class="waves-block waves-effect next"> <a href="../../../04/03/upgrade-to-debian9-on-aliyun/" id="post-next" class="post-nav-link"> <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div> <h4 class="title">将阿里云服务器升级到 debian 9 的全过程记录</h4> </a> </div> </nav> <section class="comments" id="comments"> <div id="gitment_thread"></div> <script type="text/javascript" src="../../../../js/gitment.browser.min.js?v=1.7.2"></script> <script>var gitment=new Gitmint({lang:"zh-CN",owner:"andot",repo:"CoolCode",id:"Hprose 3.0 for .NET 的序列化为何这么快",oauth:{client_id:"0dfa8bd57a3253425991",client_secret:"cc7af9e85ee4abda607ea1a5d5a0f55e1e6c256a"}});gitment.render("comments")</script> </section> </article> <div id="reward" class="page-modal reward-lay"> <a class="close" href="javascript:;"><i class="icon icon-close"></i></a> <h3 class="reward-title"> <i class="icon icon-quote-left"></i> 感谢您的支持~ <i class="icon icon-quote-right"></i> </h3> <div class="reward-content"> <div class="reward-code"> <img id="rewardCode" src="../../../../img/wechat.jpg" alt="打赏二维码"> </div> <label class="reward-toggle"> <input id="rewardToggle" type="checkbox" class="reward-toggle-check" data-wechat="../../../../img/wechat.jpg" data-alipay="../../../../img/alipay.jpg"> <div class="reward-toggle-ctrol"> <span class="reward-toggle-item wechat">微信</span> <span class="reward-toggle-label"></span> <span class="reward-toggle-item alipay">支付宝</span> </div> </label> </div> </div> </div> <footer class="footer"> <div class="bottom"> <p> <span id="busuanzi_container_site_uv"> 站点总访客数：<span id="busuanzi_value_site_uv"><i class="icon icon-lg icon-spinner"></i></span> </span> <span id="busuanzi_container_site_pv"> 站点总访问量：<span id="busuanzi_value_site_pv"><i class="icon icon-lg icon-spinner"></i></span> </span> </p> <p> <span><a href="../../../../atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span> <span>博客内容遵循 <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span> </p> <p> <span>小马哥 &copy; 2005 - 2020</span> <span> <a href="http://www.miitbeian.gov.cn/" target="_blank">鲁ICP备17003119号-8</a> </span><span>Power by <a href="https://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a></span> <span>Hosted by <a href="https://pages.github.com" style="font-weight:700">GitHub Pages</a></span> </p> </div> </footer> </main> <div class="mask" id="mask"></div> <a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a> <div class="global-share" id="globalShare"> <ul class="reset share-icons"> <li> <a class="weibo share-sns" target="_blank" href="https://service.weibo.com/share/share.php?url=https://coolcode.org/2018/05/05/why-the-serialization-of-hprose-3.0-for-dotnet-is-so-fast/&title=《Hprose 3.0 for .NET 的序列化为何这么快》 — CoolCode&pic=https://coolcode.org/img/avatar.jpg" data-title="微博"> <i class="icon icon-weibo"></i> </a> </li> <li> <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信"> <i class="icon icon-weixin"></i> </a> </li> <li> <a class="qq share-sns" target="_blank" href="https://connect.qq.com/widget/shareqq/index.html?url=https://coolcode.org/2018/05/05/why-the-serialization-of-hprose-3.0-for-dotnet-is-so-fast/&title=《Hprose 3.0 for .NET 的序列化为何这么快》 — CoolCode&source=经过一年的开发，Hprose 3.0 for .NET 的序列化反序列化部分终于基本上完成了。
这次升级是完全重写了 Hprose for .NET 的代..." data-title=" QQ"> <i class="icon icon-qq"></i> </a> </li> <li> <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://coolcode.org/2018/05/05/why-the-serialization-of-hprose-3.0-for-dotnet-is-so-fast/" data-title=" Facebook"> <i class="icon icon-facebook"></i> </a> </li> <li> <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Hprose 3.0 for .NET 的序列化为何这么快》 — CoolCode&url=https://coolcode.org/2018/05/05/why-the-serialization-of-hprose-3.0-for-dotnet-is-so-fast/&via=https://coolcode.org" data-title=" Twitter"> <i class="icon icon-twitter"></i> </a> </li> <li> <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://coolcode.org/2018/05/05/why-the-serialization-of-hprose-3.0-for-dotnet-is-so-fast/" data-title=" Google+"> <i class="icon icon-google-plus"></i> </a> </li> </ul> </div> <div class="page-modal wx-share" id="wxShare"> <a class="close" href="javascript:;"><i class="icon icon-close"></i></a> <p>扫一扫，分享到微信</p> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPYAAAD2CAAAAADAeSUUAAADIElEQVR42u3aQW7jQAwEQP//095rgI21TVJeSFTpFDiRPDUG3CE5r1d8vX9cP1/5+2+Se4+feXx9ev7rGxc2Njb2TdjJ21R/m2zW5PnV5/yyNdjY2Njr2MfB0AuPHiaJujxWP76OjY2N/WB2dQuOIy0vXY43FBsbGxu7ys4jJ28JHTeqLhFg2NjY2Bdm542bJJx65Ufe6P+vvTRsbGzsy7Pnb3Odn78y38bGxsa+MPtdvCYBdlaLf35hY2Njb2LnAZDj5yVEvil5mYGNjY39BHa1JZQfqUmirjpUqI43mgUJNjY29uXZZ5Uf1dDqFSTJ6OL4vQoVGDY2NvZN2NXioRpaSSwlC50cD2oOerGxsbFvyD7ej2rbaAKoRmYverGxsbGfw84Zx8tKFp0HYf7xRB01bGxs7Nuy80Z8tfXf25o89qrh94+TStjY2Ni3ZU/mnkkbKC9yJu3+HIyNjY29lT0Zpp41Wqgeu0kCtbBmbGxs7BXss5pK39ia+egCGxsbeyu796U/adz3ThLl64yeg42Njf0wdt6sL9c9QeQkG1QeM2NjY2OvY0/eoHr1xgO9McDH9WNjY2OvY/duPneQUF1DHmCFygYbGxv7tuw8unqvV4/jTJpT0ZOxsbGx17F7h2byxv2kyJkH5y/rx8bGxl7HPuuf/mQ8UB3xVsMpeiY2Njb2Inb+6ISak5K78k3MSxdsbGzsfez8iz4pIY5fzzeoV4QU7sLGxsZex540cap/k2xWr72VD7CxsbGxt7LnIZTfmzO+8mRsbGzsRezeKLc39K22k+bRhY2NjY1dXda83Z83tuYHjLCxsbGfwM5/mx/NOXcAPDoShI2Njb2UncfDaWPXwdi4Gn7Y2NjY+9jv4pU3m3plQ3V4XC2TsLGxsfexJw2dvESpxl5vs/IPAxsbG3sfO4+NSfxUoyiPn97wGBsbG3sfe3JY5/hf/wmjF5/R+rGxsbGxW9uR8yYDg6g1ho2Njf1gdjU88rKhR+rFKjY2NvY+dt4AqrZ+8liqtqvyQe9oPICNjY19eXa1kMgX3WvrV6MuD2BsbGzsdew/JWYMN60QHB0AAAAASUVORK5CYII=" alt="微信分享二维码"> </div> <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script> <script>var BLOG={ROOT:"/",SHARE:!0,REWARD:!0}</script> <script src="../../../../js/main.min.js?v=1.7.2"></script> <div class="search-panel" id="search-panel"> <ul class="search-result" id="search-result"></ul> </div> <template id="search-tpl"> <li class="item"> <a href="{path}" class="waves-block waves-effect"> <div class="title ellipsis" title="{title}">{title}</div> <div class="flex-row flex-middle"> <div class="tags ellipsis"> {tags} </div> <time class="flex-col time">{date}</time> </div> </a> </li> </template> <script src="../../../../js/search.min.js?v=1.7.2" async></script> <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> </body> </html> 