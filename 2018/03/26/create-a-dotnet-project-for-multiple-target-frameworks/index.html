<!DOCTYPE html> <html> <head><meta name="generator" content="Hexo 3.9.0"> <script>var _hmt=_hmt||[]</script> <script async src="//hm.baidu.com/hm.js?3d88a42f36d311b6e2c830ea185ed398"></script> <script>!function(){var t=document.createElement("script");t.setAttribute("async",!0);var e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script> <meta charset="utf-8"> <link rel="canonical" href="https://coolcode.org"> <title>创建面向多目标框架的.NET项目</title> <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"> <meta name="theme-color" content="#3F51B5"> <meta name="keywords" content="c#"> <meta name="description" content="之前在开发 hprose for .NET 时，因为老版本的 Visual Studio 不支持创建面向多个目标框架的 .NET 项目，所以只能在一个 .NET 工程下面为每个目标框架的 .NET 版本创建一个 csproj 项目文件，费时又费力。所以我甚至一度抛弃创建 .NET 工程项目，用编写 bat 文件的命令行方式来编译 hprose for .NET 的 dll 类库。 现在要开发 hp"> <meta name="keywords" content="c#"> <meta property="og:type" content="article"> <meta property="og:title" content="创建面向多目标框架的.NET项目"> <meta property="og:url" content="https://coolcode.org/2018/03/26/create-a-dotnet-project-for-multiple-target-frameworks/index.html"> <meta property="og:site_name" content="CoolCode"> <meta property="og:description" content="之前在开发 hprose for .NET 时，因为老版本的 Visual Studio 不支持创建面向多个目标框架的 .NET 项目，所以只能在一个 .NET 工程下面为每个目标框架的 .NET 版本创建一个 csproj 项目文件，费时又费力。所以我甚至一度抛弃创建 .NET 工程项目，用编写 bat 文件的命令行方式来编译 hprose for .NET 的 dll 类库。 现在要开发 hp"> <meta property="og:locale" content="zh-CN"> <meta property="og:image" content="https://coolcode.org/2018/03/26/create-a-dotnet-project-for-multiple-target-frameworks/create-netcoreapp-library-in-vs2017/2019.png"> <meta property="og:updated_time" content="2020-01-01T07:55:37.000Z"> <meta name="twitter:card" content="summary"> <meta name="twitter:title" content="创建面向多目标框架的.NET项目"> <meta name="twitter:description" content="之前在开发 hprose for .NET 时，因为老版本的 Visual Studio 不支持创建面向多个目标框架的 .NET 项目，所以只能在一个 .NET 工程下面为每个目标框架的 .NET 版本创建一个 csproj 项目文件，费时又费力。所以我甚至一度抛弃创建 .NET 工程项目，用编写 bat 文件的命令行方式来编译 hprose for .NET 的 dll 类库。 现在要开发 hp"> <meta name="twitter:image" content="https://coolcode.org/2018/03/26/create-a-dotnet-project-for-multiple-target-frameworks/create-netcoreapp-library-in-vs2017/2019.png"> <link rel="alternate" type="application/atom+xml" title="CoolCode" href="../../../../atom.xml"> <link rel="shortcut icon" href="../../../../favicon.ico"> <link rel="stylesheet" href="../../../../css/style.css?v=1.7.2"> <script src="../../../../js/echarts.common.min.js?v=1.7.2"></script> <script>window.lazyScripts=[]</script> <link rel="manifest" href="/manifest.json"> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon-precomposed-144x144.png"> <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/img/apple-touch-icon-precomposed-120x120.png"> <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/img/apple-touch-icon-precomposed-72x72.png"> <link rel="apple-touch-icon-precomposed" href="/img/apple-touch-icon-precomposed-57x57.png"> </head> <body> <div id="loading" class="active"></div> <aside id="menu"> <div class="inner flex-row-vertical"> <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off"> <i class="icon icon-lg icon-close"></i> </a> <div class="brand-wrap" style="background-image:url(../../../../img/brand.jpg)"> <div class="brand"> <a href="../../../../index.html" class="avatar waves-effect waves-circle waves-light"> <img src="../../../../img/avatar.jpg"> </a> <hgroup class="introduce"> <h5 class="nickname">小马哥</h5> <a href="mailto:andot@qq.com" title="andot@qq.com" class="mail">andot@qq.com</a> </hgroup> <ul class="menu-link"> <li> <a href="https://github.com/andot" target="_blank"> <i class="icon icon-lg icon-github"></i> </a> </li> <li> <a href="https://sighttp.qq.com/authd?IDKEY=0f7b6690eff38f1a1bc274af3639750f34b370fb0f86105f" target="_blank"> <i class="icon icon-lg icon-qq"></i> </a> </li> </ul> </div> </div> <div class="scroll-wrap flex-col"> <ul class="nav"> <li class="waves-block waves-effect"> <a href="../../../../index.html"> <i class="icon icon-lg icon-home"></i> 主页 </a> </li> <li class="waves-block waves-effect"> <a href="../../../../archives"> <i class="icon icon-lg icon-archives"></i> 归档 </a> </li> <li class="waves-block waves-effect"> <a href="../../../../tags"> <i class="icon icon-lg icon-tags"></i> 标签 </a> </li> <li class="waves-block waves-effect"> <a href="../../../../categories"> <i class="icon icon-lg icon-th-list"></i> 分类 </a> </li> <li class="waves-block waves-effect"> <a href="../../../../about"> <i class="icon icon-lg icon-id-card"></i> 关于 </a> </li> </ul> </div> </div> </aside> <main id="main"> <header class="top-header" id="header"> <div class="flex-row"> <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle"> <i class="icon icon-lg icon-navicon"></i> </a> <div class="flex-col header-title ellipsis">创建面向多目标框架的.NET项目</div> <div class="search-wrap" id="search-wrap"> <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back"> <i class="icon icon-lg icon-chevron-left"></i> </a> <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字"> <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search"> <i class="icon icon-lg icon-search"></i> </a> </div> <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare"> <i class="icon icon-lg icon-share-alt"></i> </a> </div> </header> <header class="content-header post-header"> <div class="container fade-scale"> <h1 class="title">创建面向多目标框架的.NET项目</h1> <h5 class="subtitle"> <time datetime="2018-03-26T04:10:55.000Z" itemprop="datePublished" class="page-time"> 2018年03月26日 </time> <ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="../../../../categories/编程/">编程</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="../../../../categories/编程/NET/">.NET</a></li></ul></li></ul> </h5> </div> </header> <div class="container body-wrap"> <aside class="post-widget"> <nav class="post-toc-wrap post-toc-shrink" id="post-toc"> <h4>目录</h4> <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#创建新版本的-csproj-项目文件"><span class="post-toc-number">1.</span> <span class="post-toc-text">创建新版本的 .csproj 项目文件</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#改成面向多目标框架的项目"><span class="post-toc-number">2.</span> <span class="post-toc-text">改成面向多目标框架的项目</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#增加-NuGet-打包信息"><span class="post-toc-number">3.</span> <span class="post-toc-text">增加 NuGet 打包信息</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#为不同目标框架的增加预编译符号"><span class="post-toc-number">4.</span> <span class="post-toc-text">为不同目标框架的增加预编译符号</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#添加-Android-平台支持"><span class="post-toc-number">5.</span> <span class="post-toc-text">添加 Android 平台支持</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#添加-Apple-系列平台支持"><span class="post-toc-number">6.</span> <span class="post-toc-text">添加 Apple 系列平台支持</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#添加-SliverLight-平台支持"><span class="post-toc-number">7.</span> <span class="post-toc-text">添加 SliverLight 平台支持</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#其它平台"><span class="post-toc-number">8.</span> <span class="post-toc-text">其它平台</span></a></li></ol> </nav> </aside> <article id="post-create-a-dotnet-project-for-multiple-target-frameworks" class="post-article article-type-post fade" itemprop="blogPost"> <div class="post-card"> <h1 class="post-card-title">创建面向多目标框架的.NET项目</h1> <div class="post-meta"> <time class="post-time" title="2018年03月26日 12:10:55" datetime="2018-03-26T04:10:55.000Z" itemprop="datePublished">2018年03月26日</time> <ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="../../../../categories/编程/">编程</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="../../../../categories/编程/NET/">.NET</a></li></ul></li></ul> <span id="busuanzi_container_page_pv" title="文章总阅读量" style="display:none"> <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span> </span> </div> <div class="post-content" id="post-content" itemprop="postContent"> <p>之前在开发 hprose for .NET 时，因为老版本的 Visual Studio 不支持创建面向多个目标框架的 .NET 项目，所以只能在一个 .NET 工程下面为每个目标框架的 .NET 版本创建一个 csproj 项目文件，费时又费力。所以我甚至一度抛弃创建 .NET 工程项目，用编写 bat 文件的命令行方式来编译 hprose for .NET 的 dll 类库。</p> <p>现在要开发 hprose 3.0 for .NET 时，我希望能够在这方面省点事，毕竟现在的 .NET 跟之前比起来，版本更多了，而且还增加了许多跨平台的目标框架，如果还用 bat 的方式来编译打包，想一想都是很头疼的事情。</p> <p> 微软估计也考虑到了这一点，所以现在终于在 Visual Studio 2017/2019 中提供了一种新的 csproj 格式，使用这种格式，就可以创建面向多个目标框架的 .NET 项目了。这对于开发多目标框架的 .NET 库来说，无疑是提供了很大的便利。</p> <a id="more"></a> <h1 id="创建新版本的-csproj-项目文件"><a href="#创建新版本的-csproj-项目文件" class="headerlink" title="创建新版本的 .csproj 项目文件"></a>创建新版本的 .csproj 项目文件</h1><p> 如果使用 .NET Core 2.0 命令行创建的话，非常简单，新建一个项目目录，然后在其中执行：</p> <figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">dotnet new classlib</span><br></pre></td></tr></table></figure> <p> 就可以了。</p> <p> 如果使用 Visual Studio 2017/2019 的话，选择新建项目，然后选择 .NET Core 或者 .NET Standard，之后选择类库，就可以了，如图：</p> <figure class="image-bubble"> <div class="img-lightbox"> <div class="overlay"></div> <img src="/2018/03/26/create-a-dotnet-project-for-multiple-target-frameworks/create-netcoreapp-library-in-vs2017/2019.png" alt="创建 .NET Core 类库"> </div> <div class="image-caption">创建 .NET Core 类库</div> </figure> <p> 新创建的 .csproj 项目文件，可以直接用文本编辑器（比如 VSCode 等）打开，里面内容很简单：</p> <figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">Project</span> <span class="attr">Sdk</span>=<span class="string">"Microsoft.NET.Sdk"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TargetFramework</span>&gt;</span>netstandard2.0<span class="tag">&lt;/<span class="name">TargetFramework</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">Project</span>&gt;</span></span><br></pre></td></tr></table></figure> <p>这个项目目前还只支持单一的目标框架，要改成支持多目标框架就需要来用文本编辑器手动编辑这个 XML 文件了。Visual Studio 2017 目前还不支持通过图形界面的方式来配置多目标框架。</p> <h1 id="改成面向多目标框架的项目"><a href="#改成面向多目标框架的项目" class="headerlink" title="改成面向多目标框架的项目"></a>改成面向多目标框架的项目</h1><p>修改其实也很简单，只需要把 <code>TargetFramework</code> 改成 <code>TargetFrameworks</code>，然后把你需要的目标框架填进去，用分号分隔就行了。例如：</p> <figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">Project</span> <span class="attr">Sdk</span>=<span class="string">"Microsoft.NET.Sdk"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TargetFrameworks</span>&gt;</span>netstandard1.0;netstandard1.1;netstandard1.2;netstandard1.3;netstandard1.4;netstandard1.5;netstandard1.6;netstandard2.0;netcoreapp1.0;netcoreapp1.1;netcoreapp2.0;net40;net45;net451;net452;net46;net461;net462;net47;net471<span class="tag">&lt;/<span class="name">TargetFrameworks</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">Project</span>&gt;</span></span><br></pre></td></tr></table></figure> <p>上面这些目标框架是 .NET Core 和 Visual Studio 2017/2019 默认就支持的，只要这样写上，就可以直接用命令行：</p> <figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">dotnet build</span><br></pre></td></tr></table></figure> <p>或在 Visual Studio 2017/2019 中编译通过。</p> <p>但如果创建的不是类库，而是单元测试（mstest 和 xunit）项目的话，<code>netstandardx.x</code> 和 <code>net40</code> 就不支持了，这一点是测试框架限制的。</p> <p>所以，既能编译，又能测试的多目标框架大概也就只有这些：</p> <figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">Project</span> <span class="attr">Sdk</span>=<span class="string">"Microsoft.NET.Sdk"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TargetFrameworks</span>&gt;</span>netcoreapp1.0;netcoreapp1.1;netcoreapp2.0;net45;net451;net452;net46;net461;net462;net47;net471<span class="tag">&lt;/<span class="name">TargetFrameworks</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">Project</span>&gt;</span></span><br></pre></td></tr></table></figure> <p>如果不考虑测试，那么在 Visual Studio 2017/2019 中，还可以添加上：<code>net20</code>、<code>net30</code> 和 <code>net35</code> 这三个目标框架。</p> <p>这些可以在 Visual Studio 2017/2019 中可以编译通过，使用 dotnet 命令行的话，会显示：</p> <blockquote> <p><span style="color:red">C:\Program Files\dotnet\sdk\2.1.4\Microsoft.Common.CurrentVersion.targets(1124,5): error MSB3644: 未找到框架“.NETFramework,Version=v2.0”的引用程序集。若要解决此问题，请安装此框架版本的 SDK 或 Targeting Pack，或将应用程序的目标重新指向已装有 SDK 或 Targeting Pack 的框架版本。请注意，将从全局程序集缓存(GAC)解析程序集，并将使用这些程序集替换引用程序集。因此，程序集的目标可能未正确指向您所预期的框架。</span></p> </blockquote> <p>这样的错误信息。这个问题能否解决我还不清楚，因为没有查到这方面的资料。</p> <h1 id="增加-NuGet-打包信息"><a href="#增加-NuGet-打包信息" class="headerlink" title="增加 NuGet 打包信息"></a>增加 NuGet 打包信息</h1><p>新版的 .csproj 不但可以直接添加程序集信息，不再需要 <code>AssemblyInfo.cs</code> 这个文件了。还可以直接添加 NuGet 打包信息，一步生成 .nupkg 文件。例如：</p> <figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">SignAssembly</span>&gt;</span>true<span class="tag">&lt;/<span class="name">SignAssembly</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">DelaySign</span>&gt;</span>false<span class="tag">&lt;/<span class="name">DelaySign</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">AssemblyOriginatorKeyFile</span>&gt;</span>HproseKeys.snk<span class="tag">&lt;/<span class="name">AssemblyOriginatorKeyFile</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">Version</span>&gt;</span>2.0.0<span class="tag">&lt;/<span class="name">Version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">OutputType</span>&gt;</span>Library<span class="tag">&lt;/<span class="name">OutputType</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">GeneratePackageOnBuild</span>&gt;</span>true<span class="tag">&lt;/<span class="name">GeneratePackageOnBuild</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">PackageRequireLicenseAcceptance</span>&gt;</span>true<span class="tag">&lt;/<span class="name">PackageRequireLicenseAcceptance</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">Authors</span>&gt;</span>Ma Bingyao<span class="symbol">&amp;lt;</span>andot@hprose.com<span class="symbol">&amp;gt;</span><span class="tag">&lt;/<span class="name">Authors</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">Company</span>&gt;</span>hprose.com<span class="tag">&lt;/<span class="name">Company</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">Copyright</span>&gt;</span>Copyright © http://www.hprose.com, All rights reserved.<span class="tag">&lt;/<span class="name">Copyright</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">AssemblyVersion</span>&gt;</span>2.0.0.0<span class="tag">&lt;/<span class="name">AssemblyVersion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">Product</span>&gt;</span>Hprose.Core<span class="tag">&lt;/<span class="name">Product</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">PackageLicenseUrl</span>&gt;</span>http://opensource.org/licenses/MIT<span class="tag">&lt;/<span class="name">PackageLicenseUrl</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">PackageProjectUrl</span>&gt;</span>http://www.hprose.com<span class="tag">&lt;/<span class="name">PackageProjectUrl</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">PackageIconUrl</span>&gt;</span>http://hprose.com/apple-touch-icon-180x180.png<span class="tag">&lt;/<span class="name">PackageIconUrl</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">RepositoryUrl</span>&gt;</span>https://github.com/hprose/hprose-dotnet<span class="tag">&lt;/<span class="name">RepositoryUrl</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">RepositoryType</span>&gt;</span>git<span class="tag">&lt;/<span class="name">RepositoryType</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">PropertyGroup</span>&gt;</span></span><br></pre></td></tr></table></figure> <p>上面的信息对于所面向的不同框架信息都是一样的，还可以根据不同的框架来添加不同的信息，例如：</p> <figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Target</span> <span class="attr">Name</span>=<span class="string">"PreBuild"</span> <span class="attr">BeforeTargets</span>=<span class="string">"PreBuildEvent"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">PropertyGroup</span> <span class="attr">Condition</span>=<span class="string">" '$(TargetFrameworkIdentifier)' != '' "</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Product</span>&gt;</span>Hprose.Core for $(TargetFrameworkIdentifier) $(TargetFrameworkVersion)<span class="tag">&lt;/<span class="name">Product</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">PropertyGroup</span> <span class="attr">Condition</span>=<span class="string">" '$(TargetFrameworkProfile)' != '' "</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Product</span>&gt;</span>Hprose.Core for $(TargetFrameworkIdentifier) $(TargetFrameworkVersion) $(TargetFrameworkProfile) Profile<span class="tag">&lt;/<span class="name">Product</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Target</span>&gt;</span></span><br></pre></td></tr></table></figure> <p>通过上面这一段代码，就可以为生成的每个 dll 添加不同的产品名称信息了。</p> <h1 id="为不同目标框架的增加预编译符号"><a href="#为不同目标框架的增加预编译符号" class="headerlink" title="为不同目标框架的增加预编译符号"></a>为不同目标框架的增加预编译符号</h1><p>要用一套代码为不同的目标框架来编写类库，那么条件编译是不可或缺的。</p> <p>Java 没有提供条件编译，要实现这一目标就变得非常困难，目前虽然在 Java 中能借助 <code>final</code> 变量加 <code>if</code> 条件判断来实现有限的“条件编译”，但是 Java 的这种奇技淫巧跟 C# 提供的条件编译比起来，简直难用的要死。尤其是现在 Java 也成了版本帝，半年一个就发布一个版本，在这种情况下，还不提供条件编译，这简直是类库开发者的噩梦。</p> <p>C# 从一开始就支持条件编译，不过最初并没有为每个不同版本的框架定义标准的预编译符号。但是现在，使用新版的 .csproj 创建的项目，会自动为不同版本的目标框架添加预编译符号了，下面是自动添加的预编译符号：</p> <table> <thead> <tr> <th style="text-align:left">目标框架</th> <th style="text-align:left">预编译符号</th> </tr> </thead> <tbody> <tr> <td style="text-align:left">.NET Framework 2.0</td> <td style="text-align:left"><code>NET20</code></td> </tr> <tr> <td style="text-align:left">.NET Framework 3.0</td> <td style="text-align:left"><code>NET30</code></td> </tr> <tr> <td style="text-align:left">.NET Framework 3.5</td> <td style="text-align:left"><code>NET35</code></td> </tr> <tr> <td style="text-align:left">.NET Framework 4.0</td> <td style="text-align:left"><code>NET40</code></td> </tr> <tr> <td style="text-align:left">.NET Framework 4.5</td> <td style="text-align:left"><code>NET45</code></td> </tr> <tr> <td style="text-align:left">.NET Framework 4.5.1</td> <td style="text-align:left"><code>NET451</code></td> </tr> <tr> <td style="text-align:left">.NET Framework 4.5.2</td> <td style="text-align:left"><code>NET452</code></td> </tr> <tr> <td style="text-align:left">.NET Framework 4.6</td> <td style="text-align:left"><code>NET46</code></td> </tr> <tr> <td style="text-align:left">.NET Framework 4.6.1</td> <td style="text-align:left"><code>NET461</code></td> </tr> <tr> <td style="text-align:left">.NET Framework 4.6.2</td> <td style="text-align:left"><code>NET462</code></td> </tr> <tr> <td style="text-align:left">.NET Framework 4.7</td> <td style="text-align:left"><code>NET47</code></td> </tr> <tr> <td style="text-align:left">.NET Framework 4.7.1</td> <td style="text-align:left"><code>NET471</code></td> </tr> <tr> <td style="text-align:left">.NET Framework 4.7.2</td> <td style="text-align:left"><code>NET472</code></td> </tr> <tr> <td style="text-align:left">.NET Framework 4.8</td> <td style="text-align:left"><code>NET48</code></td> </tr> <tr> <td style="text-align:left">.NET Standard 1.0</td> <td style="text-align:left"><code>NETSTANDARD1_0</code></td> </tr> <tr> <td style="text-align:left">.NET Standard 1.1</td> <td style="text-align:left"><code>NETSTANDARD1_1</code></td> </tr> <tr> <td style="text-align:left">.NET Standard 1.2</td> <td style="text-align:left"><code>NETSTANDARD1_2</code></td> </tr> <tr> <td style="text-align:left">.NET Standard 1.3</td> <td style="text-align:left"><code>NETSTANDARD1_3</code></td> </tr> <tr> <td style="text-align:left">.NET Standard 1.4</td> <td style="text-align:left"><code>NETSTANDARD1_4</code></td> </tr> <tr> <td style="text-align:left">.NET Standard 1.5</td> <td style="text-align:left"><code>NETSTANDARD1_5</code></td> </tr> <tr> <td style="text-align:left">.NET Standard 1.6</td> <td style="text-align:left"><code>NETSTANDARD1_6</code></td> </tr> <tr> <td style="text-align:left">.NET Standard 2.0</td> <td style="text-align:left"><code>NETSTANDARD2_0</code></td> </tr> <tr> <td style="text-align:left">.NET Standard 2.1</td> <td style="text-align:left"><code>NETSTANDARD2_1</code></td> </tr> <tr> <td style="text-align:left">.NET Core 1.0</td> <td style="text-align:left"><code>NETCOREAPP1_0</code></td> </tr> <tr> <td style="text-align:left">.NET Core 1.1</td> <td style="text-align:left"><code>NETCOREAPP1_1</code></td> </tr> <tr> <td style="text-align:left">.NET Core 2.0</td> <td style="text-align:left"><code>NETCOREAPP2_0</code></td> </tr> <tr> <td style="text-align:left">.NET Core 2.1</td> <td style="text-align:left"><code>NETCOREAPP2_1</code></td> </tr> <tr> <td style="text-align:left">.NET Core 2.2</td> <td style="text-align:left"><code>NETCOREAPP2_2</code></td> </tr> <tr> <td style="text-align:left">.NET Core 3.0</td> <td style="text-align:left"><code>NETCOREAPP3_0</code></td> </tr> <tr> <td style="text-align:left">.NET Core 3.1</td> <td style="text-align:left"><code>NETCOREAPP3_1</code></td> </tr> </tbody> </table> <p>如果感觉不够用，还可以自己添加，例如：</p> <figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">PropertyGroup</span> <span class="attr">Condition</span>=<span class="string">" $(TargetFramework.Contains('netstandard1.')) "</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">_IsNetStandard1Defined</span>&gt;</span>$([System.Text.RegularExpressions.Regex]::IsMatch('$(DefineConstants.Trim())', '(^|;)NETSTANDARD1($|;)'))<span class="tag">&lt;/<span class="name">_IsNetStandard1Defined</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">DefineConstants</span> <span class="attr">Condition</span>=<span class="string">"!$(_IsNetStandard1Defined)"</span>&gt;</span>NETSTANDARD1;$(DefineConstants)<span class="tag">&lt;/<span class="name">DefineConstants</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">PropertyGroup</span> <span class="attr">Condition</span>=<span class="string">" $(TargetFramework.Contains('netcoreapp1.')) "</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">_IsNetCoreApp1Defined</span>&gt;</span>$([System.Text.RegularExpressions.Regex]::IsMatch('$(DefineConstants.Trim())', '(^|;)NETCOREAPP1($|;)'))<span class="tag">&lt;/<span class="name">_IsNetCoreApp1Defined</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">DefineConstants</span> <span class="attr">Condition</span>=<span class="string">"!$(_IsNetCoreApp1Defined)"</span>&gt;</span>NETCOREAPP1;$(DefineConstants)<span class="tag">&lt;/<span class="name">DefineConstants</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">PropertyGroup</span>&gt;</span></span><br></pre></td></tr></table></figure> <p>这样就可以为 .NET Standard 1.x 增加预编译符号 <code>NETSTANDARD1</code>，为 .NET Core 1.0 增加预编译符号 <code>NETCOREAPP1</code> 了。这对于在程序中只需要一个条件就可以判断所有的 .NET Standard 1.x 平台或 .NET Core 1.x 平台了。</p> <h1 id="添加-Android-平台支持"><a href="#添加-Android-平台支持" class="headerlink" title="添加 Android 平台支持"></a>添加 Android 平台支持</h1><p>默认情况下，使用 Visual Studio 2017/2019 创建的 Android 类库项目是不使用这个新版本 .csproj 格式的。不过我们可以手动把 Android 平台添加到已有的这个项目中。</p> <p>首先在 <code>&lt;TargetFrameworks&gt;...&lt;/TargetFrameworks&gt;</code> 里面加入 <code>monoandroid71</code>。其中 <code>monoandroid</code> 是目标框架标识，<code>71</code> 是目标框架版本号。然后加入下列代码：</p> <figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">PropertyGroup</span> <span class="attr">Condition</span>=<span class="string">" $(TargetFramework.Contains('monoandroid')) "</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">FileAlignment</span>&gt;</span>512<span class="tag">&lt;/<span class="name">FileAlignment</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">GenerateSerializationAssemblies</span>&gt;</span>Off<span class="tag">&lt;/<span class="name">GenerateSerializationAssemblies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">AndroidUseLatestPlatformSdk</span>&gt;</span>true<span class="tag">&lt;/<span class="name">AndroidUseLatestPlatformSdk</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">TargetFrameworkVersion</span>&gt;</span>v$(TargetFramework[11]).$(TargetFramework[12])<span class="tag">&lt;/<span class="name">TargetFrameworkVersion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">TargetFrameworkIdentifier</span>&gt;</span>MonoAndroid<span class="tag">&lt;/<span class="name">TargetFrameworkIdentifier</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">LanguageTargets</span>&gt;</span>$(MSBuildExtensionsPath)\Xamarin\Android\Xamarin.Android.CSharp.targets<span class="tag">&lt;/<span class="name">LanguageTargets</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">ItemGroup</span> <span class="attr">Condition</span>=<span class="string">" $(TargetFramework.Contains('monoandroid')) "</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">Reference</span> <span class="attr">Include</span>=<span class="string">"Mono.Android"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ItemGroup</span>&gt;</span></span><br></pre></td></tr></table></figure> <p>Android 目标框架有好几个版本，我目前还不确定是否只添加最高版本的就能在所有版本上都可以使用，如果不行的话，那就把所有版本（<code>monoandroid44</code>;<code>monoandroid50</code>;<code>monoandroid51</code>;<code>monoandroid60</code>;<code>monoandroid71</code>）都添加进去也无妨。</p> <h1 id="添加-Apple-系列平台支持"><a href="#添加-Apple-系列平台支持" class="headerlink" title="添加 Apple 系列平台支持"></a>添加 Apple 系列平台支持</h1><p>添加方法跟 Android 平台类似。首先在 <code>&lt;TargetFrameworks&gt;...&lt;/TargetFrameworks&gt;</code> 里面加入 <code>xamarinmac20;xamarinios10;xamarintvos10;xamarinwatchos10</code>。然后加入下列代码：</p> <figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">PropertyGroup</span> <span class="attr">Condition</span>=<span class="string">" '$(TargetFramework)' == 'xamarinmac20' "</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TargetFrameworkVersion</span>&gt;</span>v2.0<span class="tag">&lt;/<span class="name">TargetFrameworkVersion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TargetFrameworkIdentifier</span>&gt;</span>Xamarin.Mac<span class="tag">&lt;/<span class="name">TargetFrameworkIdentifier</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">PropertyGroup</span> <span class="attr">Condition</span>=<span class="string">" '$(TargetFramework)' == 'xamarinios10' "</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TargetFrameworkVersion</span>&gt;</span>v1.0<span class="tag">&lt;/<span class="name">TargetFrameworkVersion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TargetFrameworkIdentifier</span>&gt;</span>Xamarin.iOS<span class="tag">&lt;/<span class="name">TargetFrameworkIdentifier</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">PropertyGroup</span> <span class="attr">Condition</span>=<span class="string">" '$(TargetFramework)' == 'xamarintvos10' "</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TargetFrameworkVersion</span>&gt;</span>v1.0<span class="tag">&lt;/<span class="name">TargetFrameworkVersion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TargetFrameworkIdentifier</span>&gt;</span>Xamarin.TVOS<span class="tag">&lt;/<span class="name">TargetFrameworkIdentifier</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">PropertyGroup</span> <span class="attr">Condition</span>=<span class="string">" '$(TargetFramework)' == 'xamarinwatchos10' "</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TargetFrameworkVersion</span>&gt;</span>v1.0<span class="tag">&lt;/<span class="name">TargetFrameworkVersion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TargetFrameworkIdentifier</span>&gt;</span>Xamarin.WatchOS<span class="tag">&lt;/<span class="name">TargetFrameworkIdentifier</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">PropertyGroup</span> <span class="attr">Condition</span>=<span class="string">" $(TargetFramework.Contains('xamarin')) "</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">LanguageTargets</span>&gt;</span>$(MSBuildExtensionsPath)\$(TargetFrameworkIdentifier.Replace('.', '\'))\$(TargetFrameworkIdentifier).CSharp.targets<span class="tag">&lt;/<span class="name">LanguageTargets</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">ItemGroup</span> <span class="attr">Condition</span>=<span class="string">" $(TargetFramework.Contains('xamarin')) "</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Reference</span> <span class="attr">Include</span>=<span class="string">"$(TargetFrameworkIdentifier)"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ItemGroup</span>&gt;</span></span><br></pre></td></tr></table></figure> <h1 id="添加-SliverLight-平台支持"><a href="#添加-SliverLight-平台支持" class="headerlink" title="添加 SliverLight 平台支持"></a>添加 SliverLight 平台支持</h1><p>在 <code>&lt;TargetFrameworks&gt;...&lt;/TargetFrameworks&gt;</code> 里面加入 <code>sl3;sl4;sl5</code>。然后加入下列代码：</p> <figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">PropertyGroup</span> <span class="attr">Condition</span>=<span class="string">" $(TargetFramework.StartsWith('sl')) "</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">_SilverLightVersion</span>&gt;</span>$(TargetFramework[2])<span class="tag">&lt;/<span class="name">_SilverLightVersion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">TargetFrameworkVersion</span>&gt;</span>v$(_SilverLightVersion).0<span class="tag">&lt;/<span class="name">TargetFrameworkVersion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">TargetFrameworkIdentifier</span>&gt;</span>SilverLight<span class="tag">&lt;/<span class="name">TargetFrameworkIdentifier</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">SilverlightVersion</span> <span class="attr">Condition</span>=<span class="string">"'$(SilverlightVersion)' == ''"</span>&gt;</span>$(TargetFrameworkVersion)<span class="tag">&lt;/<span class="name">SilverlightVersion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">SilverlightApplication</span>&gt;</span>false<span class="tag">&lt;/<span class="name">SilverlightApplication</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ValidateXaml</span>&gt;</span>true<span class="tag">&lt;/<span class="name">ValidateXaml</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">DisableImplicitFrameworkReferences</span>&gt;</span>true<span class="tag">&lt;/<span class="name">DisableImplicitFrameworkReferences</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">_IsSilverLightDefined</span>&gt;</span>$([System.Text.RegularExpressions.Regex]::IsMatch('$(DefineConstants.Trim())', '(^|;)SILVERLIGHT($|;)'))<span class="tag">&lt;/<span class="name">_IsSilverLightDefined</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">DefineConstants</span> <span class="attr">Condition</span>=<span class="string">"!$(_IsSilverLightDefined)"</span>&gt;</span>SILVERLIGHT;SILVERLIGHT$(_SilverLightVersion);$(DefineConstants)<span class="tag">&lt;/<span class="name">DefineConstants</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">LanguageTargets</span>&gt;</span>$(MSBuildProgramFiles32)\MSBuild\Microsoft\$(TargetFrameworkIdentifier)\$(TargetFrameworkVersion)\Microsoft.$(TargetFrameworkIdentifier).CSharp.targets<span class="tag">&lt;/<span class="name">LanguageTargets</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">PropertyGroup</span>&gt;</span></span><br></pre></td></tr></table></figure> <h1 id="其它平台"><a href="#其它平台" class="headerlink" title="其它平台"></a>其它平台</h1><p>.NET Compact Framework, .NET Micro Framwork, Windows Phone 这几个平台目前还没有研究，因为在 hprose 3.0 for .NET 中不打算支持它们了。其实 .NET 2.0、3.0、3.5 这几个版本的 .NET 框架以及 SliverLight 平台我也不打算在 hprose 3.0 中支持了。支持它们不但需要写大量的条件编译，而且编写代码时不能使用新特性，微软的测试框架也不支持，写起代码来太不爽了。</p> <p>UWP（uap）这个平台我还不知道怎么配置到这个多目标框架的 .csproj 项目中，试了好久，都没有成功，也许还不支持吧。</p> </div> <blockquote class="post-copyright"> <div class="content"> <span class="post-time"> 最后更新时间：<time datetime="2020-01-01T07:55:37.000Z" itemprop="dateUpdated">2020年01月01日 15:55:37</time> </span><br> 本文共计 2,304 字，阅读时长预计 10 分钟<br>转载注明出处，原文地址：<a href="" target="_blank" rel="external">https://coolcode.org/2018/03/26/create-a-dotnet-project-for-multiple-target-frameworks/</a> </div> <footer> <a href="https://coolcode.org"> <img src="../../../../img/avatar.jpg" alt="小马哥"> 小马哥 </a> </footer> </blockquote> <div class="page-reward"> <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a> </div> <div class="post-footer"> <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="../../../../tags/c/">c#</a></li></ul> <div class="page-share-wrap"> <div class="page-share" id="pageShare"> <ul class="reset share-icons"> <li> <a class="weibo share-sns" target="_blank" href="https://service.weibo.com/share/share.php?url=https://coolcode.org/2018/03/26/create-a-dotnet-project-for-multiple-target-frameworks/&title=《创建面向多目标框架的.NET项目》 — CoolCode&pic=https://coolcode.org/img/avatar.jpg" data-title="微博"> <i class="icon icon-weibo"></i> </a> </li> <li> <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信"> <i class="icon icon-weixin"></i> </a> </li> <li> <a class="qq share-sns" target="_blank" href="https://connect.qq.com/widget/shareqq/index.html?url=https://coolcode.org/2018/03/26/create-a-dotnet-project-for-multiple-target-frameworks/&title=《创建面向多目标框架的.NET项目》 — CoolCode&source=之前在开发 hprose for .NET 时，因为老版本的 Visual Studio 不支持创建面向多个目标框架的 .NET 项目，所以只能在一个 ...." data-title=" QQ"> <i class="icon icon-qq"></i> </a> </li> <li> <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://coolcode.org/2018/03/26/create-a-dotnet-project-for-multiple-target-frameworks/" data-title=" Facebook"> <i class="icon icon-facebook"></i> </a> </li> <li> <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《创建面向多目标框架的.NET项目》 — CoolCode&url=https://coolcode.org/2018/03/26/create-a-dotnet-project-for-multiple-target-frameworks/&via=https://coolcode.org" data-title=" Twitter"> <i class="icon icon-twitter"></i> </a> </li> <li> <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://coolcode.org/2018/03/26/create-a-dotnet-project-for-multiple-target-frameworks/" data-title=" Google+"> <i class="icon icon-google-plus"></i> </a> </li> </ul> </div> <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle"> <i class="icon icon-share-alt icon-lg"></i> </a> </div> </div> </div> <nav class="post-nav flex-row flex-justify-between"> <div class="waves-block waves-effect prev"> <a href="../../../04/03/upgrade-to-debian9-on-aliyun/" id="post-prev" class="post-nav-link"> <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div> <h4 class="title">将阿里云服务器升级到 debian 9 的全过程记录</h4> </a> </div> <div class="waves-block waves-effect next"> <a href="../../24/lolcat-in-powershell/" id="post-next" class="post-nav-link"> <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div> <h4 class="title">lolcat in PowerShell</h4> </a> </div> </nav> <section class="comments" id="comments"> <div id="gitment_thread"></div> <script type="text/javascript" src="../../../../js/gitment.browser.min.js?v=1.7.2"></script> <script>var gitment=new Gitmint({lang:"zh-CN",owner:"andot",repo:"CoolCode",id:"创建面向多目标框架的.NET项目",oauth:{client_id:"0dfa8bd57a3253425991",client_secret:"cc7af9e85ee4abda607ea1a5d5a0f55e1e6c256a"}});gitment.render("comments")</script> </section> </article> <div id="reward" class="page-modal reward-lay"> <a class="close" href="javascript:;"><i class="icon icon-close"></i></a> <h3 class="reward-title"> <i class="icon icon-quote-left"></i> 感谢您的支持~ <i class="icon icon-quote-right"></i> </h3> <div class="reward-content"> <div class="reward-code"> <img id="rewardCode" src="../../../../img/wechat.jpg" alt="打赏二维码"> </div> <label class="reward-toggle"> <input id="rewardToggle" type="checkbox" class="reward-toggle-check" data-wechat="../../../../img/wechat.jpg" data-alipay="../../../../img/alipay.jpg"> <div class="reward-toggle-ctrol"> <span class="reward-toggle-item wechat">微信</span> <span class="reward-toggle-label"></span> <span class="reward-toggle-item alipay">支付宝</span> </div> </label> </div> </div> </div> <footer class="footer"> <div class="bottom"> <p> <span id="busuanzi_container_site_uv"> 站点总访客数：<span id="busuanzi_value_site_uv"><i class="icon icon-lg icon-spinner"></i></span> </span> <span id="busuanzi_container_site_pv"> 站点总访问量：<span id="busuanzi_value_site_pv"><i class="icon icon-lg icon-spinner"></i></span> </span> </p> <p> <span><a href="../../../../atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span> <span>博客内容遵循 <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span> </p> <p> <span>小马哥 &copy; 2005 - 2020</span> <span> <a href="http://www.miitbeian.gov.cn/" target="_blank">鲁ICP备17003119号-8</a> </span><span>Power by <a href="https://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a></span> <span>Hosted by <a href="https://pages.github.com" style="font-weight:700">GitHub Pages</a></span> </p> </div> </footer> </main> <div class="mask" id="mask"></div> <a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a> <div class="global-share" id="globalShare"> <ul class="reset share-icons"> <li> <a class="weibo share-sns" target="_blank" href="https://service.weibo.com/share/share.php?url=https://coolcode.org/2018/03/26/create-a-dotnet-project-for-multiple-target-frameworks/&title=《创建面向多目标框架的.NET项目》 — CoolCode&pic=https://coolcode.org/img/avatar.jpg" data-title="微博"> <i class="icon icon-weibo"></i> </a> </li> <li> <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信"> <i class="icon icon-weixin"></i> </a> </li> <li> <a class="qq share-sns" target="_blank" href="https://connect.qq.com/widget/shareqq/index.html?url=https://coolcode.org/2018/03/26/create-a-dotnet-project-for-multiple-target-frameworks/&title=《创建面向多目标框架的.NET项目》 — CoolCode&source=之前在开发 hprose for .NET 时，因为老版本的 Visual Studio 不支持创建面向多个目标框架的 .NET 项目，所以只能在一个 ...." data-title=" QQ"> <i class="icon icon-qq"></i> </a> </li> <li> <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://coolcode.org/2018/03/26/create-a-dotnet-project-for-multiple-target-frameworks/" data-title=" Facebook"> <i class="icon icon-facebook"></i> </a> </li> <li> <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《创建面向多目标框架的.NET项目》 — CoolCode&url=https://coolcode.org/2018/03/26/create-a-dotnet-project-for-multiple-target-frameworks/&via=https://coolcode.org" data-title=" Twitter"> <i class="icon icon-twitter"></i> </a> </li> <li> <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://coolcode.org/2018/03/26/create-a-dotnet-project-for-multiple-target-frameworks/" data-title=" Google+"> <i class="icon icon-google-plus"></i> </a> </li> </ul> </div> <div class="page-modal wx-share" id="wxShare"> <a class="close" href="javascript:;"><i class="icon icon-close"></i></a> <p>扫一扫，分享到微信</p> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPYAAAD2CAAAAADAeSUUAAADJUlEQVR42u3a0U5cMQwEUP7/p6nUt6rsMuMExJpzn1ZwG3KCVJOx397i5/3v8//n/M1H/+r5++0Klx9sbGzsF2G/P30eLd2+2cKer99+94OjwcbGxl7HTkrL8zdzRvKVaOujMomNjY39m9nJX/Ut4FYZw8bGxsZuC9jsktAGRskOsbGxsbHbMpPH8bciqja0upylYWNjY/949kmj96d9/qb+NjY2NvaPYb+XTx45JVuZtXJnO/9nHWxsbOxF7HbTbfQzi3tutSU+WQEbGxt7HXtG/epLyzD6T44PGxsbex27LSrJaGbS7s2vKLN28kMXNjY29iJ225S9exxt27j9VX2yPjY2NvYK9q0Q5+7AZXvQednDxsbG3s1ukXlBmoVE+VDmsGJjY2Njr2Anxaa9upwgb/0UbGxs7N/AbnmziOe88Mxa0Z+MXWJjY2MvYs/GX/I/98/Hbk6avh98FxsbG3sdexYetQXme9q60UUFGxsbexF7GKmXR5N/Pm8Y161lbGxs7Bdnz/7TTwpYXuryEZxkNCfaDzY2NvY6dh4tzUpXHfqUB9SGYtjY2Nj72PmVY3YQs8ZDMW0Uh1PY2NjY+9izi8Rsi7Pjm4VHUZsBGxsbexE7D4xmAzrtJeTkGpMfHDY2NvYO9mxYp23itoeS3xeGERU2Njb2OvZ5w7UNm+oRydHYZdQewMbGxn5xdh4PnQRP7bG2kVCy86I9gI2Njf1S7OSl2YBOW3Lygle0ch+tiY2Njb2InZeTrwubZk3l9sJTdJWxsbGxX4o923S7iRbWNm7bN7GxsbE3sc+bsu3F4+TCM2sMY2NjY+9m5wu9Bc+sAdyukMdYD48bGxsbex07GY65hc9LVFsCi18YNjY29jr2SZQz+8H51+9GXdjY2Nj72PmTFLO8DfC8mN0aAEr2ho2Njb2DnRetPNzJV7g1BlTvARsbG3sduw3i8/Bo9mbbYK6LLjY2NvavZM8uGCerJfenvLUwLGDY2NjY69j5KGReL86DqrqBgY2Njb2Ofd7cPSlCJ0cwLJzY2NjYi9izRu9svKYduJmVyXwn2NjY2C/O/gOMZG3xK+EbBwAAAABJRU5ErkJggg==" alt="微信分享二维码"> </div> <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script> <script>var BLOG={ROOT:"/",SHARE:!0,REWARD:!0}</script> <script src="../../../../js/main.min.js?v=1.7.2"></script> <div class="search-panel" id="search-panel"> <ul class="search-result" id="search-result"></ul> </div> <template id="search-tpl"> <li class="item"> <a href="{path}" class="waves-block waves-effect"> <div class="title ellipsis" title="{title}">{title}</div> <div class="flex-row flex-middle"> <div class="tags ellipsis"> {tags} </div> <time class="flex-col time">{date}</time> </div> </a> </li> </template> <script src="../../../../js/search.min.js?v=1.7.2" async></script> <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> </body> </html> 